<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>baseballator.gameplay API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>baseballator.gameplay</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from numpy.random import random, randint
from numpy import log2
from tabulate import tabulate
from baseballator.utils import * 

class Team():
        &#39;&#39;&#39;
        A class used to represent a team

        Attributes
        ----------
        team_id : str
                id of a team (three letters)

        name : str
                full name of a team

        lineup : dict
                team&#39;s batting order with Hitter objects

        rotation : list
                team&#39;s pitching rotation with Pitcher objects

        bullpen : tuple
                list with relief pitchers and a list of bullpen pitchers&#39; stats

        babip : float
                batting average on balls in play (represents the level of defence)
        &#39;&#39;&#39;

        def __init__(self, team_id, name, lineup, rotation, bullpen_stats, bullpen_names, babip):
                &#39;&#39;&#39;
                Parameters
                ----------
                team_id : str
                        id of a team (three letters)

                name : str
                        full name of a team

                lineup : dict
                        team&#39;s batting order with Hitter objects

                rotation : list
                        team&#39;s pitching rotation with Pitcher objects

                bullpen_stats : list
                        list with stats of a bullpen

                bullpen_names : list
                        list with relief pitchers&#39; names

                babip : float
                        batting average on balls in play (represents the level of defence)
                &#39;&#39;&#39;
                self.team_id = team_id
                self.name = name
                self.lineup = lineup
                self.rotation = rotation
                self.bullpen = (bullpen_names, bullpen_stats)
                self.babip = babip

        def __str__ (self):
                return &#39;Team({})&#39;.format(self.name)
        def __repr__(self):
                return &#39;Team({})&#39;.format(self.name)



class Stats:
        def __init__(self):
                pass

        def update(self, game_stats):
                current_stats = self.__dict__
                new_stats = game_stats.__dict__

                for idx in current_stats:
                        current_stats[idx] += new_stats[idx]

        def show(self):
                return self.__dict__


class Stats_Hitter(Stats):
        def __init__(self):
                self.PA = 0
                self.K = 0
                self.BB = 0
                self.H1 = 0 
                self.H2 = 0 
                self.H3 = 0 
                self.HR = 0
                self.RBI = 0
                self.SF = 0
                self.R = 0 

        @property
        def AB(self):
                return self.PA - self.BB - self.SF
        @property
        def TB(self):
                return self.H1 + 2 * self.H2 + 3 * self.H3 + 4 * self.HR
        @property
        def H(self):
                return (self.H1 + self.H2 + self.H3 + self.HR)
        @property
        def AVG(self):
                return (self.H)/(self.PA - self.BB)
        @property
        def OBP(self):
                return (self.H + self.BB)/self.PA
        @property
        def SLG(self):
                return (self.TB)/(self.PA - self.BB)
        @property
        def OPS(self):
                return self.OBP + self.SLG
        @property
        def slash_line(self):
                return &#39;{:.3f}/{:.3f}/{:.3f}&#39;.format(self.AVG, self.OBP, self.SLG)
                


class Stats_Pitcher(Stats):
        def __init__(self):
                self.TP = 0
                self.IP = 0
                self.ER = 0
                self.WH = 0
                self.BB = 0
                self.K = 0

        @property
        def ERA(self):
                if self.IP &gt; 0:
                        return self.ER/self.IP * 9
                return 0

        @property
        def WHIP(self):
                if self.IP &gt; 0:
                        return self.WH/self.IP
                return 0

        @property
        def IP_display(self):
                        whole = int(self.IP // 1)
                        decimal = self.IP - whole
                        if decimal == 0:
                                decimal_disp = &#39;0&#39;
                        elif decimal &lt; 0.35:
                                decimal_disp = &#39;1&#39;
                        elif decimal &lt; 0.7:
                                decimal_disp = &#39;2&#39;
                        else:
                                decimal_disp = &#39;0&#39;
                                whole += 1

                        return (str(whole)+ &#39;.&#39; + decimal_disp)


class Player:

        def __init__(self, player_id, name, position, team, k_rate, bb_rate, contact):
                self.player_id = player_id
                self.name = name
                self.position = position
                self.team = team
                self.k_rate = k_rate
                self.bb_rate = bb_rate
                self.k_odds = rate_to_odd(k_rate)
                self.bb_odds = rate_to_odd(bb_rate)
                self.contact = contact

        def __str__ (self):
                return &#39;Player({}-{}: K%:{}, BB%:{}, Brl%:{})&#39;.format(self.name, self.position,
                 round(self.k_rate * 100, 1), round(self.bb_rate * 100, 1), round(self.contact[0] * 100, 1))
        def __repr__(self):
                return &#39;Player({})&#39;.format(self.name)


class Hitter(Player):

        def __init__(self, player_id, name, position, team, k_rate, bb_rate, contact, speed):
                super().__init__(player_id, name, position, team, k_rate, bb_rate, contact)
                self.speed = speed
                self.stats = Stats_Hitter()
                self.career_stats = Stats_Hitter()


class Pitcher(Player):

        league_babip = .297

        def __init__(self, player_id, name, position, team, k_rate, bb_rate, contact, babip, pitch_count):
                super().__init__(player_id, name, position, team, k_rate, bb_rate, contact)
                #self.babip = teams[self.team].babip - self.league_babip
                #self.babip = self.team.babip - self.league_babip
                self.babip = babip - self.league_babip
                self.stats = Stats_Pitcher()
                self.career_stats = Stats_Pitcher()
                self.pitch_count = pitch_count



class AB:

        k_odds_league = rate_to_odd(.223)
        bb_odds_league = rate_to_odd(.080)
        contact_mix = [.069, .058, .248, .249, .337, .039]
        contact_params = {
        0: [.554, .511, .888, .110, &#39;FO&#39;, &#39;Barell&#39;],
        1: [.103, .417, .739, .091, &#39;FO&#39;, &#39;Solid&#39;],
        2: [.0002, .654, .175, .077, &#39;GO&#39;, &#39;Flare/Burner&#39;],
        3: [.010, .058, .561, .113, &#39;PO&#39;, &#39;Poorly/Under&#39;],
        4: [.000, .181, .087, .056, &#39;GO&#39;, &#39;Poorly/Topped&#39;],
        5: [.000, .168, .045, .017, &#39;GO&#39;, &#39;Poorly/Weak&#39;]
        } #HR, BABIP, XBH, triple, out-type, name


        def __init__(self, pitcher, hitter):
                self.pitcher = pitcher
                self.hitter = hitter

                self.k_prob = odd_to_rate((self.pitcher.k_odds * self.hitter.k_odds)/AB.k_odds_league)
                self.bb_prob = odd_to_rate((self.pitcher.bb_odds * self.hitter.bb_odds)/AB.bb_odds_league)
                self.contact_probs = AB.contact_mix_transform(self.pitcher.contact, self.hitter.contact, self.contact_mix)

                self.outcome = None
                self.out = False
                self.contact_type = None

        def play(self):

                self.random_vals = random(6)
                if self.random_vals[0] &lt;= self.k_prob:
                        self.outcome = &#39;K&#39;
                        self.out = True
                elif self.random_vals[0] &lt;= self.k_prob + self.bb_prob:
                        self.outcome = &#39;BB&#39;
                else:
                        #contact made
                        self.contact_type = AB.contact_result(self.random_vals[1], self.contact_probs)
                        if self.random_vals[2] &lt;= self.contact_params[self.contact_type][0]:
                                self.outcome = &#39;HR&#39;
                        elif self.random_vals[3] &gt; self.contact_params[self.contact_type][1] + self.pitcher.babip:
                                self.outcome = self.contact_params[self.contact_type][4]
                                self.out = True
                        elif self.random_vals[4] &lt;= self.contact_params[self.contact_type][2]:
                                if self.random_vals[5] &lt;= self.contact_params[self.contact_type][3]:
                                        self.outcome = &#39;3B&#39;
                                else:
                                        self.outcome = &#39;2B&#39;
                        else:
                                self.outcome = &#39;1B&#39;

        @staticmethod
        def contact_result(random_val, probs):
                probs = [0] + probs
                for i in range(6):
                        if probs[i] &lt;= random_val &lt; sum(probs[:i+2]):
                                return i
                return i

        @staticmethod
        def contact_mix_transform(c_pitcher, c_hitter, c_league):
                barell_diff = c_pitcher[0] - c_league[0]
                poor_diff = sum(c_pitcher[3:6]) - sum(c_league[3:6])
                result = list(c_hitter)
                result[0] += 1/2 * barell_diff
                result[1] -= 1/4 * barell_diff
                result[2] -= 1/4 * barell_diff
                result[3] += 1/6 * poor_diff
                result[4] += 1/6 * poor_diff
                result[5] += 1/6 * poor_diff
                result[2] -= 1/3 * poor_diff
                return result


class Score:
        def __init__(self):
                self.runs = 0
                self.hits = 0



class Inning:   

        def __init__(self, pitcher, lineup, number, game_info, is_bullpen = False, replacement = None, is_extra = False, printout = True):
                self.pitcher = pitcher
                self.lineup = lineup
                self.number = number
                self.g_score, self.pitchers_num = game_info
                self.is_bullpen = is_bullpen
                self.replacement = replacement
                self.is_extra = is_extra
                self.printout = printout
                self.description = &#39;&#39;



                self.outs = 0
                self.score = Score()



                if self.is_extra:
                        if self.number == 1:
                                self.base_runners = [(2, self.lineup[9])]
                        else:
                                self.base_runners = [(2, self.lineup[self.number - 1])]
                else:
                        self.base_runners = []

        def play(self):

                #params

                GIDP = 0.317
                round_bases = .413
                from_scoring = .591

                if (self.is_bullpen) and (self.pitcher.stats.IP &gt; 0):
                        k_rate, bb_rate, contact, babip = self.replacement[1]
                        if self.pitchers_num &lt;= len(self.replacement[0]):
                                new_name = self.replacement[0][self.pitchers_num - 1]
                        else:
                                new_name = &#39;Bullpen Pitcher &#39; + str(self.pitchers_num)
                        self.description += &#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper()

                        if self.printout:
                                print(&#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper(), end=&#39;&#39;)

                        self.pitcher = Pitcher(&#39;R&#39;, new_name, &#39;RP&#39;, self.pitcher.team, k_rate, bb_rate, contact, babip, 200)

                while self.outs &lt; 3:
                        self.hitter = self.lineup[self.number]
                        self.ab = AB(self.pitcher, self.hitter)
                        self.ab.play()

                        if self.ab.contact_type != None:
                                contact_name = self.ab.contact_params[self.ab.contact_type][-1]
                        else:
                                contact_name = None

                        self.hitter.stats.PA += 1

                        #possible outcomes = [&#39;K&#39;, &#39;BB&#39;, &#39;HR&#39;, &#39;1B&#39;, &#39;2B&#39;, &#39;3B&#39;, &#39;GO&#39;, &#39;FO&#39;, &#39;PO&#39;]
                        if self.ab.outcome == &#39;K&#39;:

                                description = self.hitter.name + &#39; strikes out. &#39;

                                self.outs += 1

                                self.hitter.stats.K += 1
                                self.pitcher.stats.K += 1
                                self.pitcher.stats.IP += 1/3

                        if self.ab.outcome == &#39;BB&#39;:

                                description = self.hitter.name + &#39; walks. &#39;

                                self.pitcher.stats.WH += 1
                                self.pitcher.stats.BB += 1
                                self.hitter.stats.BB += 1

                                new_base_runners = []
                                occupied = [base[0] for base in self.base_runners]

                                for runner in self.base_runners:
                                        move = False
                                        if (runner[0] - 1 in occupied) or (runner[0] == 1):
                                                new_base = runner[0] + 1

                                                if new_base == 4:
                                                        self.score.runs += 1

                                                        runner[1].stats.R += 1
                                                        self.pitcher.stats.ER += 1
                                                        self.hitter.stats.RBI += 1

                                                        description += runner[1].name + &#39; scores. &#39;
                                                else:
                                                        new_base_runners.append((new_base, runner[1]))
                                                        description += runner[1].name + &#39; to &#39; + str(new_base) + &#39;. &#39;
                                        else:
                                                new_base_runners.append(runner)                         

                                new_base_runners.append((1, self.hitter))
                                self.base_runners = new_base_runners

                                
                        if self.ab.outcome == &#39;HR&#39;:

                                description = self.hitter.name + &#39; homers. &#39;

                                self.score.runs += 1 + len(self.base_runners)
                                self.score.hits += 1
                                self.hitter.stats.R += 1
                                self.hitter.stats.HR += 1
                                self.hitter.stats.RBI += 1 + len(self.base_runners)

                                self.pitcher.stats.ER += 1 + len(self.base_runners)
                                self.pitcher.stats.WH += 1

                                for runner in self.base_runners:
                                        runner[1].stats.R += 1
                                        description += runner[1].name + &#39; scores. &#39;

                                self.base_runners = []

                        if self.ab.outcome == &#39;3B&#39;:

                                description = self.hitter.name + &#39; triples. &#39;

                                self.score.runs += len(self.base_runners)
                                self.score.hits += 1

                                self.hitter.stats.H3 += 1
                                self.hitter.stats.RBI += len(self.base_runners)

                                self.pitcher.stats.WH += 1
                                self.pitcher.stats.ER += len(self.base_runners)


                                for runner in self.base_runners:
                                        runner[1].stats.R += 1
                                        description += runner[1].name + &#39; scores. &#39;
                                self.base_runners = [(3, self.hitter)]

                        if self.ab.outcome == &#39;2B&#39;:

                                description = self.hitter.name + &#39; doubles. &#39;

                                self.score.hits += 1

                                self.hitter.stats.H2 += 1

                                self.pitcher.stats.WH += 1
                                new_base_runners = []

                                for runner in self.base_runners:
                                        if (runner[0] &gt; 1) or ((runner[0] == 1) and (random() &lt;= round_bases * runner[1].speed)):
                                                self.score.runs += 1

                                                runner[1].stats.R += 1
                                                self.pitcher.stats.ER += 1
                                                self.hitter.stats.RBI += 1
                                                description += runner[1].name + &#39; scores. &#39;
                                        else:
                                                new_base_runners.append((3, runner[1]))
                                                description += runner[1].name + &#39; to 3. &#39;

                                new_base_runners.append((2, self.hitter))
                                self.base_runners = new_base_runners

                        if self.ab.outcome == &#39;1B&#39;:

                                description = self.hitter.name + &#39; singles. &#39;

                                self.score.hits += 1

                                self.hitter.stats.H1 += 1

                                self.pitcher.stats.WH += 1

                                new_base_runners = []
                                advance = False
                                occupied = [base[0] for base in self.base_runners]

                                for runner in self.base_runners:
                                        if (runner[0] &gt; 2):
                                                self.score.runs += 1

                                                runner[1].stats.R += 1
                                                self.pitcher.stats.ER += 1
                                                self.hitter.stats.RBI += 1
                                                description += runner[1].name + &#39; scores. &#39;

                                        else:
                                                if 2 in occupied:

                                                        if (runner[0] == 2) and (random() &lt;= from_scoring * runner[1].speed):
                                                                self.score.runs += 1
                                                                advance = True

                                                                runner[1].stats.R += 1
                                                                self.pitcher.stats.ER += 1
                                                                self.hitter.stats.RBI += 1
                                                                description += runner[1].name + &#39; scores. &#39;
                                                        elif runner[0] == 2:
                                                                new_base_runners.append((3, runner[1]))
                                                                description += runner[1].name + &#39; to 3. &#39;
                                                        
                                                        if (runner[0] == 1) and (advance):
                                                                new_base_runners.append((3, runner[1]))
                                                                description += runner[1].name + &#39; to 3. &#39;
                                                        elif runner[0] == 1:
                                                                new_base_runners.append((2, runner[1]))
                                                                description += runner[1].name + &#39; to 2. &#39;
                                                else:
                                                        if (runner[0] == 1) and (random() &lt;= round_bases * runner[1].speed):
                                                                new_base_runners.append((3, runner[1]))
                                                                description += runner[1].name + &#39; to 3. &#39;
                                                        elif runner[0] == 1:
                                                                new_base_runners.append((2, runner[1]))
                                                                description += runner[1].name + &#39; to 2. &#39;

                                new_base_runners.append((1, self.hitter))
                                self.base_runners = new_base_runners

                        if self.ab.outcome == &#39;FO&#39;: 
                                self.outs += 1
                                occupied = [base[0] for base in self.base_runners]
                                if (3 in occupied) and (self.outs &lt; 3):
                                        self.score.runs += 1

                                        self.base_runners[0][1].stats.R += 1
                                        self.pitcher.stats.ER += 1
                                        self.hitter.stats.SF += 1
                                        self.hitter.stats.RBI += 1

                                        description = self.hitter.name + &#39; out on sac fly. &#39; + self.base_runners[0][1].name + &#39; scores. &#39;
                                        self.base_runners = self.base_runners[1:]
                                else:
                                        description = self.hitter.name + &#39; flies out. &#39;

                                self.pitcher.stats.IP += 1/3


                        if self.ab.outcome == &#39;GO&#39;:
                                self.outs += 1
                                self.pitcher.stats.IP += 1/3
                                occupied = [base[0] for base in self.base_runners]
                                hitter_on_first = False
                                new_base_runners = []

                                if 1 in occupied:
                                        if (random() &lt; GIDP - self.pitcher.babip) and (self.outs &lt; 3):
                                                self.outs += 1
                                                self.pitcher.stats.IP += 1/3
                                                description = self.hitter.name + &#39; grounds into a double play. &#39; + self.base_runners[-1][1].name + &#39; out at 2. &#39; + self.hitter.name + &#39; out at 1.&#39;
                                                self.base_runners = self.base_runners[:-1]

                                        else:
                                                hitter_on_first = True
                                                description = self.hitter.name + &#39; grounds into a force out. &#39; + self.base_runners[-1][1].name + &#39; out at 2. &#39; + self.hitter.name + &#39; to 1.&#39;
                                                self.base_runners = self.base_runners[:-1]
                                else:
                                        description = self.hitter.name + &#39; grounds out. &#39;

                                if self.outs &lt; 3:
                                        for runner in self.base_runners:
                                                if runner[0] == 2:
                                                        new_base_runners.append((3, runner[1]))
                                                        description += runner[1].name + &#39; to 3. &#39;
                                                if runner[0] == 3:
                                                        self.score.runs += 1

                                                        runner[1].stats.R += 1
                                                        self.pitcher.stats.ER += 1
                                                        self.hitter.stats.RBI += 1
                                                        description += runner[1].name + &#39; scores. &#39;

                                        if hitter_on_first:
                                                new_base_runners.append((1, self.hitter))

                                        self.base_runners = new_base_runners


                        if self.ab.outcome == &#39;PO&#39;:
                                description = self.hitter.name + &#39; pops out. &#39;
                                self.outs += 1

                                self.pitcher.stats.IP += 1/3

                        if self.number == 9:
                                self.number = 1
                        else:
                                self.number += 1

                        if self.printout:
                                print(description, end=&#39;| &#39;)
                                


                
                        #pitch count
                        if self.ab.outcome == &#39;BB&#39;:
                                pitches = int(5.5 + (-1) ** randint(1,3)/2)
                        elif self.ab.outcome == &#39;K&#39;:
                                pitches = int(4.5 + (-1) ** randint(1,3)/2)
                        else:
                                pitches = 3 + (-1) ** randint(1,4)

                        hitter_skill_detect = lambda x, y: 1 if 2.5 * x &lt; y else -1
                        self.pitcher.stats.TP += pitches + hitter_skill_detect(self.hitter.contact[0], self.hitter.contact[2])

                        if not self.is_bullpen:
                                if ((self.pitcher.stats.TP &gt;= self.pitcher.pitch_count) and (self.g_score.hits &gt; 2)) or (self.score.runs &gt; 5):
                                        self.is_bullpen = True
                                        k_rate, bb_rate, contact, babip = self.replacement[1]
                                        new_name = self.replacement[0][0]
                                        description += &#39;| {} replaces {} &#39;.format(new_name, self.pitcher.name).upper()

                                        if self.printout:
                                                print(&#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper(), end=&#39;&#39;)

                                        self.pitcher = Pitcher(&#39;R&#39;, self.replacement[0][0], &#39;RP&#39;, self.pitcher.team, k_rate, bb_rate, contact, babip, 200)

                                        


                        self.description += description + &#39;| &#39;


                if self.printout:
                        print()
                        print(self.score.runs, &#39; R, &#39;, self.score.hits, &#39; H&#39;, sep=&#39;&#39;)

                self.description += &#39;\n&#39; + str(self.score.runs) + &#39; R, &#39; + str(self.score.hits) + &#39; H&#39;

class Game:

        def __init__(self, home, away, home_pitcher, away_pitcher):
                self.home = home
                self.away = away
                self.home_pitcher = home.rotation[home_pitcher - 1]
                self.away_pitcher = away.rotation[away_pitcher - 1]
                self.home_pitchers = [self.home_pitcher]
                self.away_pitchers = [self.away_pitcher]
                self.home_bp = False
                self.away_bp = False

                self.home_number = 1
                self.away_number = 1

                self.home_score = Score()
                self.away_score = Score()
                self.desc = &#39;&#39;
                self.home_innings = []
                self.away_innings = []

        def play(self, printout = False):
                self.printout = printout

                for i in range(9):

                        title = &#39;\nInning &#39; + str(i + 1) + &#39;\n&#39;
                        self.desc += title + &#39;\n&#39;
                        if self.printout:
                                print(title)

                        away_inn = Inning(self.home_pitcher, self.away.lineup, self.away_number, (self.away_score, len(self.home_pitchers)),
                         printout = self.printout, replacement=self.home.bullpen, is_bullpen=self.home_bp)
                        away_inn.play()
                        self.away_number = away_inn.number
                        self.away_innings.append(away_inn)
                        self.desc += away_inn.description + &#39;\n&#39;
                        self.away_score.runs += away_inn.score.runs
                        self.away_score.hits += away_inn.score.hits

                        if away_inn.is_bullpen:
                                if away_inn.pitcher not in self.home_pitchers:
                                        self.home_pitchers.append(away_inn.pitcher)
                                self.home_pitcher = away_inn.pitcher
                                self.home_bp = True

                        home_inn = Inning(self.away_pitcher, self.home.lineup, self.home_number, (self.home_score, len(self.away_pitchers)),
                                printout = self.printout, replacement=self.away.bullpen, is_bullpen=self.away_bp)
                        home_inn.play()
                        self.home_number = home_inn.number
                        self.home_innings.append(home_inn)
                        self.desc += home_inn.description + &#39;\n&#39;
                        self.home_score.runs += home_inn.score.runs
                        self.home_score.hits += home_inn.score.hits

                        if home_inn.is_bullpen:
                                if home_inn.pitcher not in self.away_pitchers:
                                        self.away_pitchers.append(home_inn.pitcher)
                                self.away_pitcher = home_inn.pitcher
                                self.away_bp = True

                        inter_score = self.away.team_id + &#39; &#39; + str(self.away_score.runs) + &#39;, &#39; + self.home.team_id + &#39; &#39; + str(self.home_score.runs)
                        self.desc += inter_score + &#39;\n&#39;
                        if printout:
                                print(inter_score)

                while self.home_score.runs == self.away_score.runs:

                        title = &#39;\nInning &#39; + str(i + 1) + &#39;\n&#39;
                        self.desc += title + &#39;\n&#39;
                        if self.printout:
                                print(title)

                        away_inn = Inning(self.home_pitcher, self.away.lineup, self.away_number, (self.away_score, len(self.home_pitchers)),
                         printout = self.printout, replacement=self.home.bullpen, is_bullpen=self.home_bp, is_extra=True)
                        away_inn.play()
                        self.away_number = away_inn.number
                        self.away_innings.append(away_inn)
                        self.desc += away_inn.description + &#39;\n&#39;
                        self.away_score.runs += away_inn.score.runs
                        self.away_score.hits += away_inn.score.hits

                        if away_inn.is_bullpen:
                                self.home_pitchers.append(away_inn.pitcher)
                                self.home_pitcher = away_inn.pitcher
                                self.home_bp = True

                        home_inn = Inning(self.away_pitcher, self.home.lineup, self.home_number, (self.home_score, len(self.away_pitchers)),
                                printout = self.printout, replacement=self.away.bullpen, is_bullpen=self.away_bp, is_extra=True)
                        home_inn.play()
                        self.home_number = home_inn.number
                        self.home_innings.append(home_inn)
                        self.desc += home_inn.description + &#39;\n&#39;
                        self.home_score.runs += home_inn.score.runs
                        self.home_score.hits += home_inn.score.hits

                        if home_inn.is_bullpen:
                                self.away_pitchers.append(home_inn.pitcher)
                                self.away_pitcher = home_inn.pitcher
                                self.away_bp = True

                        inter_score = self.away.team_id + &#39; &#39; + str(self.away_score.runs) + &#39;, &#39; + self.home.team_id + &#39; &#39; + str(self.home_score.runs)
                        self.desc += inter_score + &#39;\n&#39;
                        if printout:
                                print(inter_score)


                if self.home_score.runs &gt; self.away_score.runs:
                        self.result = 1
                else:
                        self.result = 0


                #setting stats
                self.game_stats = {}
                for key in [self.home, self.away]:
                        self.game_stats[key.name] = {}
                        for idx in key.lineup:
                                player = key.lineup[idx]
                                self.game_stats[key.name][player] = Stats_Hitter()
                                self.game_stats[key.name][player].update(player.stats)
                                player.career_stats.update(player.stats)
                                player.stats = Stats_Hitter()

                home_starter_stats = Stats_Pitcher()
                home_starter_stats.update(self.home_pitchers[0].stats)
                self.home_pitchers[0].career_stats.update(self.home_pitchers[0].stats)
                self.home_pitchers[0].stats = Stats_Pitcher()
                away_starter_stats = Stats_Pitcher()
                away_starter_stats.update(self.away_pitchers[0].stats)
                self.away_pitchers[0].career_stats.update(self.away_pitchers[0].stats)
                self.away_pitchers[0].stats = Stats_Pitcher()
                self.starters_stats = {self.home.name: (self.home_pitchers[0].name, home_starter_stats),
                 self.away.name: (self.away_pitchers[0].name, away_starter_stats)}


        def score_line(self):

                inning_numbers = [&#39;Team&#39;, &#39;|&#39;] + list(range(1, len(self.home_innings) + 1)) + [&#39;|&#39;, &#39;R&#39;, &#39;H&#39;]

                away_data = [self.away.name, &#39;|&#39;] + [inn.score.runs for inn in self.away_innings] + [&#39;|&#39;] + [self.away_score.runs, self.away_score.hits]
                home_data = [self.home.name, &#39;|&#39;] + [inn.score.runs for inn in self.home_innings] + [&#39;|&#39;] + [self.home_score.runs, self.home_score.hits]
                data = [away_data, home_data]

                return tabulate(data, headers=inning_numbers)

        def box(self, team, side=&#39;A&#39;):

                self.side = side

                if team == &#39;home&#39;:
                        self.team = self.home
                        pitchers = self.home_pitchers
                else:
                        self.team = self.away
                        pitchers = self.away_pitchers

                team_stats = self.game_stats[self.team.name]
                starter_stats = self.starters_stats[self.team.name]

                text = &#39;&#39;
                if self.side != &#39;P&#39;:
                        text += &#39;BATTING \n&#39;

                        headers = [self.team.name, &#39;H-AB&#39;, &#39;R&#39;, &#39;RBI&#39;, &#39;2B&#39;, &#39;3B&#39;, &#39;HR&#39;, &#39;TB&#39;, &#39;BB&#39;, &#39;SO&#39;]
                        data = []
                        in_game_stats = {}

                        for idx in self.team.lineup:
                                player = self.team.lineup[idx]
                                player_stats = team_stats[player]

                                stat_line = [
                                player.name + &#39;, &#39; + player.position,
                                &#39;{}-{}&#39;.format(player_stats.H, player_stats.AB),
                                player_stats.R,
                                player_stats.RBI,
                                player_stats.H2,
                                player_stats.H3,
                                player_stats.HR,
                                player_stats.TB,
                                player_stats.BB,
                                player_stats.K]
                                data.append(stat_line)



                        text += tabulate(data, headers=headers)

                        text += &#39;\n\n&#39;

                if self.side != &#39;B&#39;:
                        text += &#39;PITCHING\n&#39;

                        headers = [self.team.name, &#39;IP&#39;, &#39;TP&#39;, &#39;R&#39;, &#39;ERA&#39;, &#39;WHIP&#39;, &#39;BB&#39;, &#39;SO&#39;]

                        data = []
                        is_starter = True

                        for pitcher in pitchers:
                                if is_starter:
                                        pitcher_stats = starter_stats[1]
                                        is_starter = False
                                else:
                                        pitcher_stats = pitcher.stats
                                line = [
                                        pitcher.name + &#39;, &#39; + pitcher.position,
                                        pitcher_stats.IP_display,
                                        pitcher_stats.TP,
                                        pitcher_stats.ER,
                                        pitcher_stats.ERA,
                                        pitcher_stats.WHIP,
                                        pitcher_stats.BB,
                                        pitcher_stats.K]
                                data.append(line)

                        text += tabulate(data, headers=headers)

                return text

        def box_pbp(self):
                text = self.away.name + &#39; @ &#39; + self.home.name + &#39;\n\n&#39;

                text += &#39;Starters: &#39; + self.away_pitchers[0].name + &#39; vs. &#39; + self.home_pitchers[0].name

                if self.result == 1:
                        text += &#39;\nWinner: &#39; + self.home.name
                else:
                        text += &#39;\nWinner: &#39; + self.away.name

                text += &#39;\n\n&#39; + self.score_line() + &#39;\n\nSTATISTICS&#39; 
                text += &#39;\n\n&#39; + self.away.name.upper() + &#39;\n\n&#39; + self.box(&#39;away&#39;)
                text += &#39;\n\n&#39; + self.home.name.upper() + &#39;\n\n&#39; + self.box(&#39;home&#39;)
                text += &#39;\n\n&#39; + &#39;PLAY-BY-PLAY&#39; + &#39;\n &#39; + self.desc

                return text

        def game_line(self):
                if self.result == 1:
                        winner = self.home.name
                else:
                        winner = self.away.name
                WP = self.starters_stats[winner]
                line_blueprint = &#39; - {}IP, {}ER, {}Hits, {}BBs, {}Ks&#39;
                stats_for_line = line_blueprint.format(WP[1].IP_display, WP[1].ER, WP[1].WH - WP[1].BB, WP[1].BB, WP[1].K)
                WP_line = WP[0] + stats_for_line
                if self.home_score.hits == 0 or self.away_score.hits == 0:
                        ho_hitter = 1
                else:
                        no_hitter = 0
                line = [self.away.name, self.home.name, self.away_score.runs, self.home_score.runs, winner, WP_line, no_hitter]
                return line


class Series():

        def __init__(self, title, higher_seed, lower_seed, games=7, alternate=True,
         higher_pitcher=1, lower_pitcher=1):
                self.title = title
                self.higher_seed = [higher_seed, 0, higher_pitcher]
                self.lower_seed = [lower_seed, 0, lower_pitcher]
                self.games = games
                self.alternate = alternate
                self.pitchers_in_rotation = min((len(higher_seed.rotation), len(lower_seed.rotation)))

                self.outcome = None #[0 - draw, 1 - win for higher, -1 win for lower]

                if games % 2 == 0:
                        self.min_games = int(games // 2 + 1)
                else:
                        self.min_games = int(games // 2 + 1)

                self.game_list = []
                self.scores = []
                self.lines = []


        def play(self, printout=False):

                game_number = 0
                games_at_home = 0
                home_team = self.higher_seed
                away_team = self.lower_seed

                while ((self.higher_seed[1] &lt; self.min_games) and (self.lower_seed[1] &lt; self.min_games)) and (game_number &lt; self.games):

                        game_number += 1

                        game = Game(home_team[0], away_team[0], home_team[2], away_team[2])
                        game.play()
                        self.game_list.append(game)
                        self.scores.append(str(game.away_score.runs) + &#39;:&#39; + str(game.home_score.runs))
                        self.lines.append([self.title, &#39;Game &#39; + str(game_number)] + game.game_line())

                        if printout:
                                print(&#39;-----Game &#39; + str(game_number) + &#39;-----\n&#39;)
                                print(game.box_pbp())


                        if game.result == 1:
                                home_team[1] += 1
                        else:
                                away_team[1] += 1

                        
                        if home_team[2] == self.pitchers_in_rotation:
                                home_team[2] = 0
                        if home_team[2] &lt; self.pitchers_in_rotation:
                                home_team[2] += 1

                        if away_team[2] == self.pitchers_in_rotation:
                                away_team[2] = 0
                        if away_team[2] &lt; self.pitchers_in_rotation:
                                away_team[2] += 1

                        if self.alternate:
                                if self.games - game_number &lt;= 3:
                                        home_team, away_team = away_team, home_team
                                else:
                                        games_at_home += 1
                                        if games_at_home == 2:
                                                home_team, away_team = away_team, home_team
                                                games_at_home = 0

                desc_blueprint = &#39;{} won a series against {} in {} games.&#39;
                self.games_played = len(self.game_list)
                if self.higher_seed[1] &gt; self.lower_seed[1]:
                        self.outcome = 1
                        self.winner = self.higher_seed[0]
                        self.description = desc_blueprint.format(self.higher_seed[0].name, self.lower_seed[0].name, self.games_played)
                elif self.higher_seed[1] &lt; self.lower_seed[1]:
                        self.outcome = -1
                        self.winner = self.lower_seed[0]
                        self.description = desc_blueprint.format(self.lower_seed[0].name, self.higher_seed[0].name, self.games_played)
                else:
                        self.outcome = 0
                        self.description = &#39;Series between {} and {} ended in draw.&#39;.format(self.higher_seed[0].name, self.lower_seed[0].name)

        def games_dataset(self):
                return pd.DataFrame(data=self.lines, columns=[&#39;series&#39;, &#39;game&#39;, &#39;away_team&#39;, &#39;home_team&#39;, &#39;away_runs&#39;, &#39;home_runs&#39;, &#39;winner&#39;, &#39;WP&#39;, &#39;no_hitter&#39;])

        def get_game(self, number):
                return self.game_list[number - 1]

        def MVP(self):
                all_players = list(self.higher_seed[0].lineup.values()) + list(self.lower_seed[0].lineup.values())
                players_sorted = sorted(all_players, key=lambda x: x.career_stats.OPS, reverse=True)
                return (players_sorted[0].name, players_sorted[0].career_stats.slash_line)


#delete internal</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="baseballator.gameplay.randint"><code class="name flex">
<span>def <span class="ident">randint</span></span>(<span>low, high=None, size=None, dtype=builtins.int)</span>
</code></dt>
<dd>
<div class="desc"><p>Return random integers from <code>low</code> (inclusive) to <code>high</code> (exclusive).</p>
<p>Return random integers from the "discrete uniform" distribution of
the specified dtype in the "half-open" interval [<code>low</code>, <code>high</code>). If
<code>high</code> is None (the default), then results are from [0, <code>low</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>New code should use the <code>integers</code> method of a <code>default_rng()</code>
instance instead; please see the :ref:<code>random-quick-start</code>.</p>
</div>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>low</code></strong> :&ensp;<code>int</code> or <code>array-like</code> of <code>ints</code></dt>
<dd>Lowest (signed) integers to be drawn from the distribution (unless
<code>high=None</code>, in which case this parameter is one above the
<em>highest</em> such integer).</dd>
<dt><strong><code>high</code></strong> :&ensp;<code>int</code> or <code>array-like</code> of <code>ints</code>, optional</dt>
<dd>If provided, one above the largest (signed) integer to be drawn
from the distribution (see above for behavior if <code>high=None</code>).
If array-like, must contain integer values</dd>
<dt><strong><code>size</code></strong> :&ensp;<code>int</code> or <code>tuple</code> of <code>ints</code>, optional</dt>
<dd>Output shape.
If the given shape is, e.g., <code>(m, n, k)</code>, then
<code>m * n * k</code> samples are drawn.
Default is None, in which case a
single value is returned.</dd>
<dt><strong><code>dtype</code></strong> :&ensp;<code>dtype</code>, optional</dt>
<dd>
<p>Desired dtype of the result. Byteorder must be native.
The default value is int.</p>
<div class="admonition versionadded">
<p class="admonition-title">Added in version:&ensp;1.11.0</p>
</div>
</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>out</code></strong> :&ensp;<code>int</code> or <code>ndarray</code> of <code>ints</code></dt>
<dd><code>size</code>-shaped array of random integers from the appropriate
distribution, or a single such random int if <code>size</code> not provided.</dd>
</dl>
<h2 id="see-also">See Also</h2>
<dl>
<dt><code>random_integers</code></dt>
<dd>similar to <code><a title="baseballator.gameplay.randint" href="#baseballator.gameplay.randint">RandomState.randint()</a></code>, only for the closed interval [<code>low</code>, <code>high</code>], and 1 is the lowest value if <code>high</code> is omitted.</dd>
<dt><code>Generator.integers</code></dt>
<dd>which should be used for new code.</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; np.random.randint(2, size=10)
array([1, 0, 0, 0, 1, 1, 0, 0, 1, 0]) # random
&gt;&gt;&gt; np.random.randint(1, size=10)
array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
</code></pre>
<p>Generate a 2 x 4 array of ints between 0 and 4, inclusive:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; np.random.randint(5, size=(2, 4))
array([[4, 0, 2, 1], # random
       [3, 2, 2, 0]])
</code></pre>
<p>Generate a 1 x 3 array with 3 different upper bounds</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; np.random.randint(1, [3, 5, 10])
array([2, 2, 9]) # random
</code></pre>
<p>Generate a 1 by 3 array with 3 different lower bounds</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; np.random.randint([1, 5, 7], 10)
array([9, 8, 7]) # random
</code></pre>
<p>Generate a 2 by 4 array using broadcasting with dtype of uint8</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; np.random.randint([1, 3, 5, 7], [[10], [20]], dtype=np.uint8)
array([[ 8,  6,  9,  7], # random
       [ 1, 16,  9, 12]], dtype=uint8)
</code></pre></div>
</dd>
<dt id="baseballator.gameplay.random"><code class="name flex">
<span>def <span class="ident">random</span></span>(<span>size=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Return random floats in the half-open interval [0.0, 1.0). Alias for
<code>random_sample</code> to ease forward-porting to the new random API.</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="baseballator.gameplay.AB"><code class="flex name class">
<span>class <span class="ident">AB</span></span>
<span>(</span><span>pitcher, hitter)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AB:

        k_odds_league = rate_to_odd(.223)
        bb_odds_league = rate_to_odd(.080)
        contact_mix = [.069, .058, .248, .249, .337, .039]
        contact_params = {
        0: [.554, .511, .888, .110, &#39;FO&#39;, &#39;Barell&#39;],
        1: [.103, .417, .739, .091, &#39;FO&#39;, &#39;Solid&#39;],
        2: [.0002, .654, .175, .077, &#39;GO&#39;, &#39;Flare/Burner&#39;],
        3: [.010, .058, .561, .113, &#39;PO&#39;, &#39;Poorly/Under&#39;],
        4: [.000, .181, .087, .056, &#39;GO&#39;, &#39;Poorly/Topped&#39;],
        5: [.000, .168, .045, .017, &#39;GO&#39;, &#39;Poorly/Weak&#39;]
        } #HR, BABIP, XBH, triple, out-type, name


        def __init__(self, pitcher, hitter):
                self.pitcher = pitcher
                self.hitter = hitter

                self.k_prob = odd_to_rate((self.pitcher.k_odds * self.hitter.k_odds)/AB.k_odds_league)
                self.bb_prob = odd_to_rate((self.pitcher.bb_odds * self.hitter.bb_odds)/AB.bb_odds_league)
                self.contact_probs = AB.contact_mix_transform(self.pitcher.contact, self.hitter.contact, self.contact_mix)

                self.outcome = None
                self.out = False
                self.contact_type = None

        def play(self):

                self.random_vals = random(6)
                if self.random_vals[0] &lt;= self.k_prob:
                        self.outcome = &#39;K&#39;
                        self.out = True
                elif self.random_vals[0] &lt;= self.k_prob + self.bb_prob:
                        self.outcome = &#39;BB&#39;
                else:
                        #contact made
                        self.contact_type = AB.contact_result(self.random_vals[1], self.contact_probs)
                        if self.random_vals[2] &lt;= self.contact_params[self.contact_type][0]:
                                self.outcome = &#39;HR&#39;
                        elif self.random_vals[3] &gt; self.contact_params[self.contact_type][1] + self.pitcher.babip:
                                self.outcome = self.contact_params[self.contact_type][4]
                                self.out = True
                        elif self.random_vals[4] &lt;= self.contact_params[self.contact_type][2]:
                                if self.random_vals[5] &lt;= self.contact_params[self.contact_type][3]:
                                        self.outcome = &#39;3B&#39;
                                else:
                                        self.outcome = &#39;2B&#39;
                        else:
                                self.outcome = &#39;1B&#39;

        @staticmethod
        def contact_result(random_val, probs):
                probs = [0] + probs
                for i in range(6):
                        if probs[i] &lt;= random_val &lt; sum(probs[:i+2]):
                                return i
                return i

        @staticmethod
        def contact_mix_transform(c_pitcher, c_hitter, c_league):
                barell_diff = c_pitcher[0] - c_league[0]
                poor_diff = sum(c_pitcher[3:6]) - sum(c_league[3:6])
                result = list(c_hitter)
                result[0] += 1/2 * barell_diff
                result[1] -= 1/4 * barell_diff
                result[2] -= 1/4 * barell_diff
                result[3] += 1/6 * poor_diff
                result[4] += 1/6 * poor_diff
                result[5] += 1/6 * poor_diff
                result[2] -= 1/3 * poor_diff
                return result</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="baseballator.gameplay.AB.bb_odds_league"><code class="name">var <span class="ident">bb_odds_league</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="baseballator.gameplay.AB.contact_mix"><code class="name">var <span class="ident">contact_mix</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="baseballator.gameplay.AB.contact_params"><code class="name">var <span class="ident">contact_params</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="baseballator.gameplay.AB.k_odds_league"><code class="name">var <span class="ident">k_odds_league</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="baseballator.gameplay.AB.contact_mix_transform"><code class="name flex">
<span>def <span class="ident">contact_mix_transform</span></span>(<span>c_pitcher, c_hitter, c_league)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def contact_mix_transform(c_pitcher, c_hitter, c_league):
        barell_diff = c_pitcher[0] - c_league[0]
        poor_diff = sum(c_pitcher[3:6]) - sum(c_league[3:6])
        result = list(c_hitter)
        result[0] += 1/2 * barell_diff
        result[1] -= 1/4 * barell_diff
        result[2] -= 1/4 * barell_diff
        result[3] += 1/6 * poor_diff
        result[4] += 1/6 * poor_diff
        result[5] += 1/6 * poor_diff
        result[2] -= 1/3 * poor_diff
        return result</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.AB.contact_result"><code class="name flex">
<span>def <span class="ident">contact_result</span></span>(<span>random_val, probs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def contact_result(random_val, probs):
        probs = [0] + probs
        for i in range(6):
                if probs[i] &lt;= random_val &lt; sum(probs[:i+2]):
                        return i
        return i</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="baseballator.gameplay.AB.play"><code class="name flex">
<span>def <span class="ident">play</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def play(self):

        self.random_vals = random(6)
        if self.random_vals[0] &lt;= self.k_prob:
                self.outcome = &#39;K&#39;
                self.out = True
        elif self.random_vals[0] &lt;= self.k_prob + self.bb_prob:
                self.outcome = &#39;BB&#39;
        else:
                #contact made
                self.contact_type = AB.contact_result(self.random_vals[1], self.contact_probs)
                if self.random_vals[2] &lt;= self.contact_params[self.contact_type][0]:
                        self.outcome = &#39;HR&#39;
                elif self.random_vals[3] &gt; self.contact_params[self.contact_type][1] + self.pitcher.babip:
                        self.outcome = self.contact_params[self.contact_type][4]
                        self.out = True
                elif self.random_vals[4] &lt;= self.contact_params[self.contact_type][2]:
                        if self.random_vals[5] &lt;= self.contact_params[self.contact_type][3]:
                                self.outcome = &#39;3B&#39;
                        else:
                                self.outcome = &#39;2B&#39;
                else:
                        self.outcome = &#39;1B&#39;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Game"><code class="flex name class">
<span>class <span class="ident">Game</span></span>
<span>(</span><span>home, away, home_pitcher, away_pitcher)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Game:

        def __init__(self, home, away, home_pitcher, away_pitcher):
                self.home = home
                self.away = away
                self.home_pitcher = home.rotation[home_pitcher - 1]
                self.away_pitcher = away.rotation[away_pitcher - 1]
                self.home_pitchers = [self.home_pitcher]
                self.away_pitchers = [self.away_pitcher]
                self.home_bp = False
                self.away_bp = False

                self.home_number = 1
                self.away_number = 1

                self.home_score = Score()
                self.away_score = Score()
                self.desc = &#39;&#39;
                self.home_innings = []
                self.away_innings = []

        def play(self, printout = False):
                self.printout = printout

                for i in range(9):

                        title = &#39;\nInning &#39; + str(i + 1) + &#39;\n&#39;
                        self.desc += title + &#39;\n&#39;
                        if self.printout:
                                print(title)

                        away_inn = Inning(self.home_pitcher, self.away.lineup, self.away_number, (self.away_score, len(self.home_pitchers)),
                         printout = self.printout, replacement=self.home.bullpen, is_bullpen=self.home_bp)
                        away_inn.play()
                        self.away_number = away_inn.number
                        self.away_innings.append(away_inn)
                        self.desc += away_inn.description + &#39;\n&#39;
                        self.away_score.runs += away_inn.score.runs
                        self.away_score.hits += away_inn.score.hits

                        if away_inn.is_bullpen:
                                if away_inn.pitcher not in self.home_pitchers:
                                        self.home_pitchers.append(away_inn.pitcher)
                                self.home_pitcher = away_inn.pitcher
                                self.home_bp = True

                        home_inn = Inning(self.away_pitcher, self.home.lineup, self.home_number, (self.home_score, len(self.away_pitchers)),
                                printout = self.printout, replacement=self.away.bullpen, is_bullpen=self.away_bp)
                        home_inn.play()
                        self.home_number = home_inn.number
                        self.home_innings.append(home_inn)
                        self.desc += home_inn.description + &#39;\n&#39;
                        self.home_score.runs += home_inn.score.runs
                        self.home_score.hits += home_inn.score.hits

                        if home_inn.is_bullpen:
                                if home_inn.pitcher not in self.away_pitchers:
                                        self.away_pitchers.append(home_inn.pitcher)
                                self.away_pitcher = home_inn.pitcher
                                self.away_bp = True

                        inter_score = self.away.team_id + &#39; &#39; + str(self.away_score.runs) + &#39;, &#39; + self.home.team_id + &#39; &#39; + str(self.home_score.runs)
                        self.desc += inter_score + &#39;\n&#39;
                        if printout:
                                print(inter_score)

                while self.home_score.runs == self.away_score.runs:

                        title = &#39;\nInning &#39; + str(i + 1) + &#39;\n&#39;
                        self.desc += title + &#39;\n&#39;
                        if self.printout:
                                print(title)

                        away_inn = Inning(self.home_pitcher, self.away.lineup, self.away_number, (self.away_score, len(self.home_pitchers)),
                         printout = self.printout, replacement=self.home.bullpen, is_bullpen=self.home_bp, is_extra=True)
                        away_inn.play()
                        self.away_number = away_inn.number
                        self.away_innings.append(away_inn)
                        self.desc += away_inn.description + &#39;\n&#39;
                        self.away_score.runs += away_inn.score.runs
                        self.away_score.hits += away_inn.score.hits

                        if away_inn.is_bullpen:
                                self.home_pitchers.append(away_inn.pitcher)
                                self.home_pitcher = away_inn.pitcher
                                self.home_bp = True

                        home_inn = Inning(self.away_pitcher, self.home.lineup, self.home_number, (self.home_score, len(self.away_pitchers)),
                                printout = self.printout, replacement=self.away.bullpen, is_bullpen=self.away_bp, is_extra=True)
                        home_inn.play()
                        self.home_number = home_inn.number
                        self.home_innings.append(home_inn)
                        self.desc += home_inn.description + &#39;\n&#39;
                        self.home_score.runs += home_inn.score.runs
                        self.home_score.hits += home_inn.score.hits

                        if home_inn.is_bullpen:
                                self.away_pitchers.append(home_inn.pitcher)
                                self.away_pitcher = home_inn.pitcher
                                self.away_bp = True

                        inter_score = self.away.team_id + &#39; &#39; + str(self.away_score.runs) + &#39;, &#39; + self.home.team_id + &#39; &#39; + str(self.home_score.runs)
                        self.desc += inter_score + &#39;\n&#39;
                        if printout:
                                print(inter_score)


                if self.home_score.runs &gt; self.away_score.runs:
                        self.result = 1
                else:
                        self.result = 0


                #setting stats
                self.game_stats = {}
                for key in [self.home, self.away]:
                        self.game_stats[key.name] = {}
                        for idx in key.lineup:
                                player = key.lineup[idx]
                                self.game_stats[key.name][player] = Stats_Hitter()
                                self.game_stats[key.name][player].update(player.stats)
                                player.career_stats.update(player.stats)
                                player.stats = Stats_Hitter()

                home_starter_stats = Stats_Pitcher()
                home_starter_stats.update(self.home_pitchers[0].stats)
                self.home_pitchers[0].career_stats.update(self.home_pitchers[0].stats)
                self.home_pitchers[0].stats = Stats_Pitcher()
                away_starter_stats = Stats_Pitcher()
                away_starter_stats.update(self.away_pitchers[0].stats)
                self.away_pitchers[0].career_stats.update(self.away_pitchers[0].stats)
                self.away_pitchers[0].stats = Stats_Pitcher()
                self.starters_stats = {self.home.name: (self.home_pitchers[0].name, home_starter_stats),
                 self.away.name: (self.away_pitchers[0].name, away_starter_stats)}


        def score_line(self):

                inning_numbers = [&#39;Team&#39;, &#39;|&#39;] + list(range(1, len(self.home_innings) + 1)) + [&#39;|&#39;, &#39;R&#39;, &#39;H&#39;]

                away_data = [self.away.name, &#39;|&#39;] + [inn.score.runs for inn in self.away_innings] + [&#39;|&#39;] + [self.away_score.runs, self.away_score.hits]
                home_data = [self.home.name, &#39;|&#39;] + [inn.score.runs for inn in self.home_innings] + [&#39;|&#39;] + [self.home_score.runs, self.home_score.hits]
                data = [away_data, home_data]

                return tabulate(data, headers=inning_numbers)

        def box(self, team, side=&#39;A&#39;):

                self.side = side

                if team == &#39;home&#39;:
                        self.team = self.home
                        pitchers = self.home_pitchers
                else:
                        self.team = self.away
                        pitchers = self.away_pitchers

                team_stats = self.game_stats[self.team.name]
                starter_stats = self.starters_stats[self.team.name]

                text = &#39;&#39;
                if self.side != &#39;P&#39;:
                        text += &#39;BATTING \n&#39;

                        headers = [self.team.name, &#39;H-AB&#39;, &#39;R&#39;, &#39;RBI&#39;, &#39;2B&#39;, &#39;3B&#39;, &#39;HR&#39;, &#39;TB&#39;, &#39;BB&#39;, &#39;SO&#39;]
                        data = []
                        in_game_stats = {}

                        for idx in self.team.lineup:
                                player = self.team.lineup[idx]
                                player_stats = team_stats[player]

                                stat_line = [
                                player.name + &#39;, &#39; + player.position,
                                &#39;{}-{}&#39;.format(player_stats.H, player_stats.AB),
                                player_stats.R,
                                player_stats.RBI,
                                player_stats.H2,
                                player_stats.H3,
                                player_stats.HR,
                                player_stats.TB,
                                player_stats.BB,
                                player_stats.K]
                                data.append(stat_line)



                        text += tabulate(data, headers=headers)

                        text += &#39;\n\n&#39;

                if self.side != &#39;B&#39;:
                        text += &#39;PITCHING\n&#39;

                        headers = [self.team.name, &#39;IP&#39;, &#39;TP&#39;, &#39;R&#39;, &#39;ERA&#39;, &#39;WHIP&#39;, &#39;BB&#39;, &#39;SO&#39;]

                        data = []
                        is_starter = True

                        for pitcher in pitchers:
                                if is_starter:
                                        pitcher_stats = starter_stats[1]
                                        is_starter = False
                                else:
                                        pitcher_stats = pitcher.stats
                                line = [
                                        pitcher.name + &#39;, &#39; + pitcher.position,
                                        pitcher_stats.IP_display,
                                        pitcher_stats.TP,
                                        pitcher_stats.ER,
                                        pitcher_stats.ERA,
                                        pitcher_stats.WHIP,
                                        pitcher_stats.BB,
                                        pitcher_stats.K]
                                data.append(line)

                        text += tabulate(data, headers=headers)

                return text

        def box_pbp(self):
                text = self.away.name + &#39; @ &#39; + self.home.name + &#39;\n\n&#39;

                text += &#39;Starters: &#39; + self.away_pitchers[0].name + &#39; vs. &#39; + self.home_pitchers[0].name

                if self.result == 1:
                        text += &#39;\nWinner: &#39; + self.home.name
                else:
                        text += &#39;\nWinner: &#39; + self.away.name

                text += &#39;\n\n&#39; + self.score_line() + &#39;\n\nSTATISTICS&#39; 
                text += &#39;\n\n&#39; + self.away.name.upper() + &#39;\n\n&#39; + self.box(&#39;away&#39;)
                text += &#39;\n\n&#39; + self.home.name.upper() + &#39;\n\n&#39; + self.box(&#39;home&#39;)
                text += &#39;\n\n&#39; + &#39;PLAY-BY-PLAY&#39; + &#39;\n &#39; + self.desc

                return text

        def game_line(self):
                if self.result == 1:
                        winner = self.home.name
                else:
                        winner = self.away.name
                WP = self.starters_stats[winner]
                line_blueprint = &#39; - {}IP, {}ER, {}Hits, {}BBs, {}Ks&#39;
                stats_for_line = line_blueprint.format(WP[1].IP_display, WP[1].ER, WP[1].WH - WP[1].BB, WP[1].BB, WP[1].K)
                WP_line = WP[0] + stats_for_line
                if self.home_score.hits == 0 or self.away_score.hits == 0:
                        ho_hitter = 1
                else:
                        no_hitter = 0
                line = [self.away.name, self.home.name, self.away_score.runs, self.home_score.runs, winner, WP_line, no_hitter]
                return line</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="baseballator.gameplay.Game.box"><code class="name flex">
<span>def <span class="ident">box</span></span>(<span>self, team, side='A')</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def box(self, team, side=&#39;A&#39;):

        self.side = side

        if team == &#39;home&#39;:
                self.team = self.home
                pitchers = self.home_pitchers
        else:
                self.team = self.away
                pitchers = self.away_pitchers

        team_stats = self.game_stats[self.team.name]
        starter_stats = self.starters_stats[self.team.name]

        text = &#39;&#39;
        if self.side != &#39;P&#39;:
                text += &#39;BATTING \n&#39;

                headers = [self.team.name, &#39;H-AB&#39;, &#39;R&#39;, &#39;RBI&#39;, &#39;2B&#39;, &#39;3B&#39;, &#39;HR&#39;, &#39;TB&#39;, &#39;BB&#39;, &#39;SO&#39;]
                data = []
                in_game_stats = {}

                for idx in self.team.lineup:
                        player = self.team.lineup[idx]
                        player_stats = team_stats[player]

                        stat_line = [
                        player.name + &#39;, &#39; + player.position,
                        &#39;{}-{}&#39;.format(player_stats.H, player_stats.AB),
                        player_stats.R,
                        player_stats.RBI,
                        player_stats.H2,
                        player_stats.H3,
                        player_stats.HR,
                        player_stats.TB,
                        player_stats.BB,
                        player_stats.K]
                        data.append(stat_line)



                text += tabulate(data, headers=headers)

                text += &#39;\n\n&#39;

        if self.side != &#39;B&#39;:
                text += &#39;PITCHING\n&#39;

                headers = [self.team.name, &#39;IP&#39;, &#39;TP&#39;, &#39;R&#39;, &#39;ERA&#39;, &#39;WHIP&#39;, &#39;BB&#39;, &#39;SO&#39;]

                data = []
                is_starter = True

                for pitcher in pitchers:
                        if is_starter:
                                pitcher_stats = starter_stats[1]
                                is_starter = False
                        else:
                                pitcher_stats = pitcher.stats
                        line = [
                                pitcher.name + &#39;, &#39; + pitcher.position,
                                pitcher_stats.IP_display,
                                pitcher_stats.TP,
                                pitcher_stats.ER,
                                pitcher_stats.ERA,
                                pitcher_stats.WHIP,
                                pitcher_stats.BB,
                                pitcher_stats.K]
                        data.append(line)

                text += tabulate(data, headers=headers)

        return text</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Game.box_pbp"><code class="name flex">
<span>def <span class="ident">box_pbp</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def box_pbp(self):
        text = self.away.name + &#39; @ &#39; + self.home.name + &#39;\n\n&#39;

        text += &#39;Starters: &#39; + self.away_pitchers[0].name + &#39; vs. &#39; + self.home_pitchers[0].name

        if self.result == 1:
                text += &#39;\nWinner: &#39; + self.home.name
        else:
                text += &#39;\nWinner: &#39; + self.away.name

        text += &#39;\n\n&#39; + self.score_line() + &#39;\n\nSTATISTICS&#39; 
        text += &#39;\n\n&#39; + self.away.name.upper() + &#39;\n\n&#39; + self.box(&#39;away&#39;)
        text += &#39;\n\n&#39; + self.home.name.upper() + &#39;\n\n&#39; + self.box(&#39;home&#39;)
        text += &#39;\n\n&#39; + &#39;PLAY-BY-PLAY&#39; + &#39;\n &#39; + self.desc

        return text</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Game.game_line"><code class="name flex">
<span>def <span class="ident">game_line</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def game_line(self):
        if self.result == 1:
                winner = self.home.name
        else:
                winner = self.away.name
        WP = self.starters_stats[winner]
        line_blueprint = &#39; - {}IP, {}ER, {}Hits, {}BBs, {}Ks&#39;
        stats_for_line = line_blueprint.format(WP[1].IP_display, WP[1].ER, WP[1].WH - WP[1].BB, WP[1].BB, WP[1].K)
        WP_line = WP[0] + stats_for_line
        if self.home_score.hits == 0 or self.away_score.hits == 0:
                ho_hitter = 1
        else:
                no_hitter = 0
        line = [self.away.name, self.home.name, self.away_score.runs, self.home_score.runs, winner, WP_line, no_hitter]
        return line</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Game.play"><code class="name flex">
<span>def <span class="ident">play</span></span>(<span>self, printout=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def play(self, printout = False):
        self.printout = printout

        for i in range(9):

                title = &#39;\nInning &#39; + str(i + 1) + &#39;\n&#39;
                self.desc += title + &#39;\n&#39;
                if self.printout:
                        print(title)

                away_inn = Inning(self.home_pitcher, self.away.lineup, self.away_number, (self.away_score, len(self.home_pitchers)),
                 printout = self.printout, replacement=self.home.bullpen, is_bullpen=self.home_bp)
                away_inn.play()
                self.away_number = away_inn.number
                self.away_innings.append(away_inn)
                self.desc += away_inn.description + &#39;\n&#39;
                self.away_score.runs += away_inn.score.runs
                self.away_score.hits += away_inn.score.hits

                if away_inn.is_bullpen:
                        if away_inn.pitcher not in self.home_pitchers:
                                self.home_pitchers.append(away_inn.pitcher)
                        self.home_pitcher = away_inn.pitcher
                        self.home_bp = True

                home_inn = Inning(self.away_pitcher, self.home.lineup, self.home_number, (self.home_score, len(self.away_pitchers)),
                        printout = self.printout, replacement=self.away.bullpen, is_bullpen=self.away_bp)
                home_inn.play()
                self.home_number = home_inn.number
                self.home_innings.append(home_inn)
                self.desc += home_inn.description + &#39;\n&#39;
                self.home_score.runs += home_inn.score.runs
                self.home_score.hits += home_inn.score.hits

                if home_inn.is_bullpen:
                        if home_inn.pitcher not in self.away_pitchers:
                                self.away_pitchers.append(home_inn.pitcher)
                        self.away_pitcher = home_inn.pitcher
                        self.away_bp = True

                inter_score = self.away.team_id + &#39; &#39; + str(self.away_score.runs) + &#39;, &#39; + self.home.team_id + &#39; &#39; + str(self.home_score.runs)
                self.desc += inter_score + &#39;\n&#39;
                if printout:
                        print(inter_score)

        while self.home_score.runs == self.away_score.runs:

                title = &#39;\nInning &#39; + str(i + 1) + &#39;\n&#39;
                self.desc += title + &#39;\n&#39;
                if self.printout:
                        print(title)

                away_inn = Inning(self.home_pitcher, self.away.lineup, self.away_number, (self.away_score, len(self.home_pitchers)),
                 printout = self.printout, replacement=self.home.bullpen, is_bullpen=self.home_bp, is_extra=True)
                away_inn.play()
                self.away_number = away_inn.number
                self.away_innings.append(away_inn)
                self.desc += away_inn.description + &#39;\n&#39;
                self.away_score.runs += away_inn.score.runs
                self.away_score.hits += away_inn.score.hits

                if away_inn.is_bullpen:
                        self.home_pitchers.append(away_inn.pitcher)
                        self.home_pitcher = away_inn.pitcher
                        self.home_bp = True

                home_inn = Inning(self.away_pitcher, self.home.lineup, self.home_number, (self.home_score, len(self.away_pitchers)),
                        printout = self.printout, replacement=self.away.bullpen, is_bullpen=self.away_bp, is_extra=True)
                home_inn.play()
                self.home_number = home_inn.number
                self.home_innings.append(home_inn)
                self.desc += home_inn.description + &#39;\n&#39;
                self.home_score.runs += home_inn.score.runs
                self.home_score.hits += home_inn.score.hits

                if home_inn.is_bullpen:
                        self.away_pitchers.append(home_inn.pitcher)
                        self.away_pitcher = home_inn.pitcher
                        self.away_bp = True

                inter_score = self.away.team_id + &#39; &#39; + str(self.away_score.runs) + &#39;, &#39; + self.home.team_id + &#39; &#39; + str(self.home_score.runs)
                self.desc += inter_score + &#39;\n&#39;
                if printout:
                        print(inter_score)


        if self.home_score.runs &gt; self.away_score.runs:
                self.result = 1
        else:
                self.result = 0


        #setting stats
        self.game_stats = {}
        for key in [self.home, self.away]:
                self.game_stats[key.name] = {}
                for idx in key.lineup:
                        player = key.lineup[idx]
                        self.game_stats[key.name][player] = Stats_Hitter()
                        self.game_stats[key.name][player].update(player.stats)
                        player.career_stats.update(player.stats)
                        player.stats = Stats_Hitter()

        home_starter_stats = Stats_Pitcher()
        home_starter_stats.update(self.home_pitchers[0].stats)
        self.home_pitchers[0].career_stats.update(self.home_pitchers[0].stats)
        self.home_pitchers[0].stats = Stats_Pitcher()
        away_starter_stats = Stats_Pitcher()
        away_starter_stats.update(self.away_pitchers[0].stats)
        self.away_pitchers[0].career_stats.update(self.away_pitchers[0].stats)
        self.away_pitchers[0].stats = Stats_Pitcher()
        self.starters_stats = {self.home.name: (self.home_pitchers[0].name, home_starter_stats),
         self.away.name: (self.away_pitchers[0].name, away_starter_stats)}</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Game.score_line"><code class="name flex">
<span>def <span class="ident">score_line</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def score_line(self):

        inning_numbers = [&#39;Team&#39;, &#39;|&#39;] + list(range(1, len(self.home_innings) + 1)) + [&#39;|&#39;, &#39;R&#39;, &#39;H&#39;]

        away_data = [self.away.name, &#39;|&#39;] + [inn.score.runs for inn in self.away_innings] + [&#39;|&#39;] + [self.away_score.runs, self.away_score.hits]
        home_data = [self.home.name, &#39;|&#39;] + [inn.score.runs for inn in self.home_innings] + [&#39;|&#39;] + [self.home_score.runs, self.home_score.hits]
        data = [away_data, home_data]

        return tabulate(data, headers=inning_numbers)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Hitter"><code class="flex name class">
<span>class <span class="ident">Hitter</span></span>
<span>(</span><span>player_id, name, position, team, k_rate, bb_rate, contact, speed)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Hitter(Player):

        def __init__(self, player_id, name, position, team, k_rate, bb_rate, contact, speed):
                super().__init__(player_id, name, position, team, k_rate, bb_rate, contact)
                self.speed = speed
                self.stats = Stats_Hitter()
                self.career_stats = Stats_Hitter()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="baseballator.gameplay.Player" href="#baseballator.gameplay.Player">Player</a></li>
</ul>
</dd>
<dt id="baseballator.gameplay.Inning"><code class="flex name class">
<span>class <span class="ident">Inning</span></span>
<span>(</span><span>pitcher, lineup, number, game_info, is_bullpen=False, replacement=None, is_extra=False, printout=True)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Inning:   

        def __init__(self, pitcher, lineup, number, game_info, is_bullpen = False, replacement = None, is_extra = False, printout = True):
                self.pitcher = pitcher
                self.lineup = lineup
                self.number = number
                self.g_score, self.pitchers_num = game_info
                self.is_bullpen = is_bullpen
                self.replacement = replacement
                self.is_extra = is_extra
                self.printout = printout
                self.description = &#39;&#39;



                self.outs = 0
                self.score = Score()



                if self.is_extra:
                        if self.number == 1:
                                self.base_runners = [(2, self.lineup[9])]
                        else:
                                self.base_runners = [(2, self.lineup[self.number - 1])]
                else:
                        self.base_runners = []

        def play(self):

                #params

                GIDP = 0.317
                round_bases = .413
                from_scoring = .591

                if (self.is_bullpen) and (self.pitcher.stats.IP &gt; 0):
                        k_rate, bb_rate, contact, babip = self.replacement[1]
                        if self.pitchers_num &lt;= len(self.replacement[0]):
                                new_name = self.replacement[0][self.pitchers_num - 1]
                        else:
                                new_name = &#39;Bullpen Pitcher &#39; + str(self.pitchers_num)
                        self.description += &#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper()

                        if self.printout:
                                print(&#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper(), end=&#39;&#39;)

                        self.pitcher = Pitcher(&#39;R&#39;, new_name, &#39;RP&#39;, self.pitcher.team, k_rate, bb_rate, contact, babip, 200)

                while self.outs &lt; 3:
                        self.hitter = self.lineup[self.number]
                        self.ab = AB(self.pitcher, self.hitter)
                        self.ab.play()

                        if self.ab.contact_type != None:
                                contact_name = self.ab.contact_params[self.ab.contact_type][-1]
                        else:
                                contact_name = None

                        self.hitter.stats.PA += 1

                        #possible outcomes = [&#39;K&#39;, &#39;BB&#39;, &#39;HR&#39;, &#39;1B&#39;, &#39;2B&#39;, &#39;3B&#39;, &#39;GO&#39;, &#39;FO&#39;, &#39;PO&#39;]
                        if self.ab.outcome == &#39;K&#39;:

                                description = self.hitter.name + &#39; strikes out. &#39;

                                self.outs += 1

                                self.hitter.stats.K += 1
                                self.pitcher.stats.K += 1
                                self.pitcher.stats.IP += 1/3

                        if self.ab.outcome == &#39;BB&#39;:

                                description = self.hitter.name + &#39; walks. &#39;

                                self.pitcher.stats.WH += 1
                                self.pitcher.stats.BB += 1
                                self.hitter.stats.BB += 1

                                new_base_runners = []
                                occupied = [base[0] for base in self.base_runners]

                                for runner in self.base_runners:
                                        move = False
                                        if (runner[0] - 1 in occupied) or (runner[0] == 1):
                                                new_base = runner[0] + 1

                                                if new_base == 4:
                                                        self.score.runs += 1

                                                        runner[1].stats.R += 1
                                                        self.pitcher.stats.ER += 1
                                                        self.hitter.stats.RBI += 1

                                                        description += runner[1].name + &#39; scores. &#39;
                                                else:
                                                        new_base_runners.append((new_base, runner[1]))
                                                        description += runner[1].name + &#39; to &#39; + str(new_base) + &#39;. &#39;
                                        else:
                                                new_base_runners.append(runner)                         

                                new_base_runners.append((1, self.hitter))
                                self.base_runners = new_base_runners

                                
                        if self.ab.outcome == &#39;HR&#39;:

                                description = self.hitter.name + &#39; homers. &#39;

                                self.score.runs += 1 + len(self.base_runners)
                                self.score.hits += 1
                                self.hitter.stats.R += 1
                                self.hitter.stats.HR += 1
                                self.hitter.stats.RBI += 1 + len(self.base_runners)

                                self.pitcher.stats.ER += 1 + len(self.base_runners)
                                self.pitcher.stats.WH += 1

                                for runner in self.base_runners:
                                        runner[1].stats.R += 1
                                        description += runner[1].name + &#39; scores. &#39;

                                self.base_runners = []

                        if self.ab.outcome == &#39;3B&#39;:

                                description = self.hitter.name + &#39; triples. &#39;

                                self.score.runs += len(self.base_runners)
                                self.score.hits += 1

                                self.hitter.stats.H3 += 1
                                self.hitter.stats.RBI += len(self.base_runners)

                                self.pitcher.stats.WH += 1
                                self.pitcher.stats.ER += len(self.base_runners)


                                for runner in self.base_runners:
                                        runner[1].stats.R += 1
                                        description += runner[1].name + &#39; scores. &#39;
                                self.base_runners = [(3, self.hitter)]

                        if self.ab.outcome == &#39;2B&#39;:

                                description = self.hitter.name + &#39; doubles. &#39;

                                self.score.hits += 1

                                self.hitter.stats.H2 += 1

                                self.pitcher.stats.WH += 1
                                new_base_runners = []

                                for runner in self.base_runners:
                                        if (runner[0] &gt; 1) or ((runner[0] == 1) and (random() &lt;= round_bases * runner[1].speed)):
                                                self.score.runs += 1

                                                runner[1].stats.R += 1
                                                self.pitcher.stats.ER += 1
                                                self.hitter.stats.RBI += 1
                                                description += runner[1].name + &#39; scores. &#39;
                                        else:
                                                new_base_runners.append((3, runner[1]))
                                                description += runner[1].name + &#39; to 3. &#39;

                                new_base_runners.append((2, self.hitter))
                                self.base_runners = new_base_runners

                        if self.ab.outcome == &#39;1B&#39;:

                                description = self.hitter.name + &#39; singles. &#39;

                                self.score.hits += 1

                                self.hitter.stats.H1 += 1

                                self.pitcher.stats.WH += 1

                                new_base_runners = []
                                advance = False
                                occupied = [base[0] for base in self.base_runners]

                                for runner in self.base_runners:
                                        if (runner[0] &gt; 2):
                                                self.score.runs += 1

                                                runner[1].stats.R += 1
                                                self.pitcher.stats.ER += 1
                                                self.hitter.stats.RBI += 1
                                                description += runner[1].name + &#39; scores. &#39;

                                        else:
                                                if 2 in occupied:

                                                        if (runner[0] == 2) and (random() &lt;= from_scoring * runner[1].speed):
                                                                self.score.runs += 1
                                                                advance = True

                                                                runner[1].stats.R += 1
                                                                self.pitcher.stats.ER += 1
                                                                self.hitter.stats.RBI += 1
                                                                description += runner[1].name + &#39; scores. &#39;
                                                        elif runner[0] == 2:
                                                                new_base_runners.append((3, runner[1]))
                                                                description += runner[1].name + &#39; to 3. &#39;
                                                        
                                                        if (runner[0] == 1) and (advance):
                                                                new_base_runners.append((3, runner[1]))
                                                                description += runner[1].name + &#39; to 3. &#39;
                                                        elif runner[0] == 1:
                                                                new_base_runners.append((2, runner[1]))
                                                                description += runner[1].name + &#39; to 2. &#39;
                                                else:
                                                        if (runner[0] == 1) and (random() &lt;= round_bases * runner[1].speed):
                                                                new_base_runners.append((3, runner[1]))
                                                                description += runner[1].name + &#39; to 3. &#39;
                                                        elif runner[0] == 1:
                                                                new_base_runners.append((2, runner[1]))
                                                                description += runner[1].name + &#39; to 2. &#39;

                                new_base_runners.append((1, self.hitter))
                                self.base_runners = new_base_runners

                        if self.ab.outcome == &#39;FO&#39;: 
                                self.outs += 1
                                occupied = [base[0] for base in self.base_runners]
                                if (3 in occupied) and (self.outs &lt; 3):
                                        self.score.runs += 1

                                        self.base_runners[0][1].stats.R += 1
                                        self.pitcher.stats.ER += 1
                                        self.hitter.stats.SF += 1
                                        self.hitter.stats.RBI += 1

                                        description = self.hitter.name + &#39; out on sac fly. &#39; + self.base_runners[0][1].name + &#39; scores. &#39;
                                        self.base_runners = self.base_runners[1:]
                                else:
                                        description = self.hitter.name + &#39; flies out. &#39;

                                self.pitcher.stats.IP += 1/3


                        if self.ab.outcome == &#39;GO&#39;:
                                self.outs += 1
                                self.pitcher.stats.IP += 1/3
                                occupied = [base[0] for base in self.base_runners]
                                hitter_on_first = False
                                new_base_runners = []

                                if 1 in occupied:
                                        if (random() &lt; GIDP - self.pitcher.babip) and (self.outs &lt; 3):
                                                self.outs += 1
                                                self.pitcher.stats.IP += 1/3
                                                description = self.hitter.name + &#39; grounds into a double play. &#39; + self.base_runners[-1][1].name + &#39; out at 2. &#39; + self.hitter.name + &#39; out at 1.&#39;
                                                self.base_runners = self.base_runners[:-1]

                                        else:
                                                hitter_on_first = True
                                                description = self.hitter.name + &#39; grounds into a force out. &#39; + self.base_runners[-1][1].name + &#39; out at 2. &#39; + self.hitter.name + &#39; to 1.&#39;
                                                self.base_runners = self.base_runners[:-1]
                                else:
                                        description = self.hitter.name + &#39; grounds out. &#39;

                                if self.outs &lt; 3:
                                        for runner in self.base_runners:
                                                if runner[0] == 2:
                                                        new_base_runners.append((3, runner[1]))
                                                        description += runner[1].name + &#39; to 3. &#39;
                                                if runner[0] == 3:
                                                        self.score.runs += 1

                                                        runner[1].stats.R += 1
                                                        self.pitcher.stats.ER += 1
                                                        self.hitter.stats.RBI += 1
                                                        description += runner[1].name + &#39; scores. &#39;

                                        if hitter_on_first:
                                                new_base_runners.append((1, self.hitter))

                                        self.base_runners = new_base_runners


                        if self.ab.outcome == &#39;PO&#39;:
                                description = self.hitter.name + &#39; pops out. &#39;
                                self.outs += 1

                                self.pitcher.stats.IP += 1/3

                        if self.number == 9:
                                self.number = 1
                        else:
                                self.number += 1

                        if self.printout:
                                print(description, end=&#39;| &#39;)
                                


                
                        #pitch count
                        if self.ab.outcome == &#39;BB&#39;:
                                pitches = int(5.5 + (-1) ** randint(1,3)/2)
                        elif self.ab.outcome == &#39;K&#39;:
                                pitches = int(4.5 + (-1) ** randint(1,3)/2)
                        else:
                                pitches = 3 + (-1) ** randint(1,4)

                        hitter_skill_detect = lambda x, y: 1 if 2.5 * x &lt; y else -1
                        self.pitcher.stats.TP += pitches + hitter_skill_detect(self.hitter.contact[0], self.hitter.contact[2])

                        if not self.is_bullpen:
                                if ((self.pitcher.stats.TP &gt;= self.pitcher.pitch_count) and (self.g_score.hits &gt; 2)) or (self.score.runs &gt; 5):
                                        self.is_bullpen = True
                                        k_rate, bb_rate, contact, babip = self.replacement[1]
                                        new_name = self.replacement[0][0]
                                        description += &#39;| {} replaces {} &#39;.format(new_name, self.pitcher.name).upper()

                                        if self.printout:
                                                print(&#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper(), end=&#39;&#39;)

                                        self.pitcher = Pitcher(&#39;R&#39;, self.replacement[0][0], &#39;RP&#39;, self.pitcher.team, k_rate, bb_rate, contact, babip, 200)

                                        


                        self.description += description + &#39;| &#39;


                if self.printout:
                        print()
                        print(self.score.runs, &#39; R, &#39;, self.score.hits, &#39; H&#39;, sep=&#39;&#39;)

                self.description += &#39;\n&#39; + str(self.score.runs) + &#39; R, &#39; + str(self.score.hits) + &#39; H&#39;</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="baseballator.gameplay.Inning.play"><code class="name flex">
<span>def <span class="ident">play</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def play(self):

        #params

        GIDP = 0.317
        round_bases = .413
        from_scoring = .591

        if (self.is_bullpen) and (self.pitcher.stats.IP &gt; 0):
                k_rate, bb_rate, contact, babip = self.replacement[1]
                if self.pitchers_num &lt;= len(self.replacement[0]):
                        new_name = self.replacement[0][self.pitchers_num - 1]
                else:
                        new_name = &#39;Bullpen Pitcher &#39; + str(self.pitchers_num)
                self.description += &#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper()

                if self.printout:
                        print(&#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper(), end=&#39;&#39;)

                self.pitcher = Pitcher(&#39;R&#39;, new_name, &#39;RP&#39;, self.pitcher.team, k_rate, bb_rate, contact, babip, 200)

        while self.outs &lt; 3:
                self.hitter = self.lineup[self.number]
                self.ab = AB(self.pitcher, self.hitter)
                self.ab.play()

                if self.ab.contact_type != None:
                        contact_name = self.ab.contact_params[self.ab.contact_type][-1]
                else:
                        contact_name = None

                self.hitter.stats.PA += 1

                #possible outcomes = [&#39;K&#39;, &#39;BB&#39;, &#39;HR&#39;, &#39;1B&#39;, &#39;2B&#39;, &#39;3B&#39;, &#39;GO&#39;, &#39;FO&#39;, &#39;PO&#39;]
                if self.ab.outcome == &#39;K&#39;:

                        description = self.hitter.name + &#39; strikes out. &#39;

                        self.outs += 1

                        self.hitter.stats.K += 1
                        self.pitcher.stats.K += 1
                        self.pitcher.stats.IP += 1/3

                if self.ab.outcome == &#39;BB&#39;:

                        description = self.hitter.name + &#39; walks. &#39;

                        self.pitcher.stats.WH += 1
                        self.pitcher.stats.BB += 1
                        self.hitter.stats.BB += 1

                        new_base_runners = []
                        occupied = [base[0] for base in self.base_runners]

                        for runner in self.base_runners:
                                move = False
                                if (runner[0] - 1 in occupied) or (runner[0] == 1):
                                        new_base = runner[0] + 1

                                        if new_base == 4:
                                                self.score.runs += 1

                                                runner[1].stats.R += 1
                                                self.pitcher.stats.ER += 1
                                                self.hitter.stats.RBI += 1

                                                description += runner[1].name + &#39; scores. &#39;
                                        else:
                                                new_base_runners.append((new_base, runner[1]))
                                                description += runner[1].name + &#39; to &#39; + str(new_base) + &#39;. &#39;
                                else:
                                        new_base_runners.append(runner)                         

                        new_base_runners.append((1, self.hitter))
                        self.base_runners = new_base_runners

                        
                if self.ab.outcome == &#39;HR&#39;:

                        description = self.hitter.name + &#39; homers. &#39;

                        self.score.runs += 1 + len(self.base_runners)
                        self.score.hits += 1
                        self.hitter.stats.R += 1
                        self.hitter.stats.HR += 1
                        self.hitter.stats.RBI += 1 + len(self.base_runners)

                        self.pitcher.stats.ER += 1 + len(self.base_runners)
                        self.pitcher.stats.WH += 1

                        for runner in self.base_runners:
                                runner[1].stats.R += 1
                                description += runner[1].name + &#39; scores. &#39;

                        self.base_runners = []

                if self.ab.outcome == &#39;3B&#39;:

                        description = self.hitter.name + &#39; triples. &#39;

                        self.score.runs += len(self.base_runners)
                        self.score.hits += 1

                        self.hitter.stats.H3 += 1
                        self.hitter.stats.RBI += len(self.base_runners)

                        self.pitcher.stats.WH += 1
                        self.pitcher.stats.ER += len(self.base_runners)


                        for runner in self.base_runners:
                                runner[1].stats.R += 1
                                description += runner[1].name + &#39; scores. &#39;
                        self.base_runners = [(3, self.hitter)]

                if self.ab.outcome == &#39;2B&#39;:

                        description = self.hitter.name + &#39; doubles. &#39;

                        self.score.hits += 1

                        self.hitter.stats.H2 += 1

                        self.pitcher.stats.WH += 1
                        new_base_runners = []

                        for runner in self.base_runners:
                                if (runner[0] &gt; 1) or ((runner[0] == 1) and (random() &lt;= round_bases * runner[1].speed)):
                                        self.score.runs += 1

                                        runner[1].stats.R += 1
                                        self.pitcher.stats.ER += 1
                                        self.hitter.stats.RBI += 1
                                        description += runner[1].name + &#39; scores. &#39;
                                else:
                                        new_base_runners.append((3, runner[1]))
                                        description += runner[1].name + &#39; to 3. &#39;

                        new_base_runners.append((2, self.hitter))
                        self.base_runners = new_base_runners

                if self.ab.outcome == &#39;1B&#39;:

                        description = self.hitter.name + &#39; singles. &#39;

                        self.score.hits += 1

                        self.hitter.stats.H1 += 1

                        self.pitcher.stats.WH += 1

                        new_base_runners = []
                        advance = False
                        occupied = [base[0] for base in self.base_runners]

                        for runner in self.base_runners:
                                if (runner[0] &gt; 2):
                                        self.score.runs += 1

                                        runner[1].stats.R += 1
                                        self.pitcher.stats.ER += 1
                                        self.hitter.stats.RBI += 1
                                        description += runner[1].name + &#39; scores. &#39;

                                else:
                                        if 2 in occupied:

                                                if (runner[0] == 2) and (random() &lt;= from_scoring * runner[1].speed):
                                                        self.score.runs += 1
                                                        advance = True

                                                        runner[1].stats.R += 1
                                                        self.pitcher.stats.ER += 1
                                                        self.hitter.stats.RBI += 1
                                                        description += runner[1].name + &#39; scores. &#39;
                                                elif runner[0] == 2:
                                                        new_base_runners.append((3, runner[1]))
                                                        description += runner[1].name + &#39; to 3. &#39;
                                                
                                                if (runner[0] == 1) and (advance):
                                                        new_base_runners.append((3, runner[1]))
                                                        description += runner[1].name + &#39; to 3. &#39;
                                                elif runner[0] == 1:
                                                        new_base_runners.append((2, runner[1]))
                                                        description += runner[1].name + &#39; to 2. &#39;
                                        else:
                                                if (runner[0] == 1) and (random() &lt;= round_bases * runner[1].speed):
                                                        new_base_runners.append((3, runner[1]))
                                                        description += runner[1].name + &#39; to 3. &#39;
                                                elif runner[0] == 1:
                                                        new_base_runners.append((2, runner[1]))
                                                        description += runner[1].name + &#39; to 2. &#39;

                        new_base_runners.append((1, self.hitter))
                        self.base_runners = new_base_runners

                if self.ab.outcome == &#39;FO&#39;: 
                        self.outs += 1
                        occupied = [base[0] for base in self.base_runners]
                        if (3 in occupied) and (self.outs &lt; 3):
                                self.score.runs += 1

                                self.base_runners[0][1].stats.R += 1
                                self.pitcher.stats.ER += 1
                                self.hitter.stats.SF += 1
                                self.hitter.stats.RBI += 1

                                description = self.hitter.name + &#39; out on sac fly. &#39; + self.base_runners[0][1].name + &#39; scores. &#39;
                                self.base_runners = self.base_runners[1:]
                        else:
                                description = self.hitter.name + &#39; flies out. &#39;

                        self.pitcher.stats.IP += 1/3


                if self.ab.outcome == &#39;GO&#39;:
                        self.outs += 1
                        self.pitcher.stats.IP += 1/3
                        occupied = [base[0] for base in self.base_runners]
                        hitter_on_first = False
                        new_base_runners = []

                        if 1 in occupied:
                                if (random() &lt; GIDP - self.pitcher.babip) and (self.outs &lt; 3):
                                        self.outs += 1
                                        self.pitcher.stats.IP += 1/3
                                        description = self.hitter.name + &#39; grounds into a double play. &#39; + self.base_runners[-1][1].name + &#39; out at 2. &#39; + self.hitter.name + &#39; out at 1.&#39;
                                        self.base_runners = self.base_runners[:-1]

                                else:
                                        hitter_on_first = True
                                        description = self.hitter.name + &#39; grounds into a force out. &#39; + self.base_runners[-1][1].name + &#39; out at 2. &#39; + self.hitter.name + &#39; to 1.&#39;
                                        self.base_runners = self.base_runners[:-1]
                        else:
                                description = self.hitter.name + &#39; grounds out. &#39;

                        if self.outs &lt; 3:
                                for runner in self.base_runners:
                                        if runner[0] == 2:
                                                new_base_runners.append((3, runner[1]))
                                                description += runner[1].name + &#39; to 3. &#39;
                                        if runner[0] == 3:
                                                self.score.runs += 1

                                                runner[1].stats.R += 1
                                                self.pitcher.stats.ER += 1
                                                self.hitter.stats.RBI += 1
                                                description += runner[1].name + &#39; scores. &#39;

                                if hitter_on_first:
                                        new_base_runners.append((1, self.hitter))

                                self.base_runners = new_base_runners


                if self.ab.outcome == &#39;PO&#39;:
                        description = self.hitter.name + &#39; pops out. &#39;
                        self.outs += 1

                        self.pitcher.stats.IP += 1/3

                if self.number == 9:
                        self.number = 1
                else:
                        self.number += 1

                if self.printout:
                        print(description, end=&#39;| &#39;)
                        


        
                #pitch count
                if self.ab.outcome == &#39;BB&#39;:
                        pitches = int(5.5 + (-1) ** randint(1,3)/2)
                elif self.ab.outcome == &#39;K&#39;:
                        pitches = int(4.5 + (-1) ** randint(1,3)/2)
                else:
                        pitches = 3 + (-1) ** randint(1,4)

                hitter_skill_detect = lambda x, y: 1 if 2.5 * x &lt; y else -1
                self.pitcher.stats.TP += pitches + hitter_skill_detect(self.hitter.contact[0], self.hitter.contact[2])

                if not self.is_bullpen:
                        if ((self.pitcher.stats.TP &gt;= self.pitcher.pitch_count) and (self.g_score.hits &gt; 2)) or (self.score.runs &gt; 5):
                                self.is_bullpen = True
                                k_rate, bb_rate, contact, babip = self.replacement[1]
                                new_name = self.replacement[0][0]
                                description += &#39;| {} replaces {} &#39;.format(new_name, self.pitcher.name).upper()

                                if self.printout:
                                        print(&#39;{} replaces {} | &#39;.format(new_name, self.pitcher.name).upper(), end=&#39;&#39;)

                                self.pitcher = Pitcher(&#39;R&#39;, self.replacement[0][0], &#39;RP&#39;, self.pitcher.team, k_rate, bb_rate, contact, babip, 200)

                                


                self.description += description + &#39;| &#39;


        if self.printout:
                print()
                print(self.score.runs, &#39; R, &#39;, self.score.hits, &#39; H&#39;, sep=&#39;&#39;)

        self.description += &#39;\n&#39; + str(self.score.runs) + &#39; R, &#39; + str(self.score.hits) + &#39; H&#39;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Pitcher"><code class="flex name class">
<span>class <span class="ident">Pitcher</span></span>
<span>(</span><span>player_id, name, position, team, k_rate, bb_rate, contact, babip, pitch_count)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Pitcher(Player):

        league_babip = .297

        def __init__(self, player_id, name, position, team, k_rate, bb_rate, contact, babip, pitch_count):
                super().__init__(player_id, name, position, team, k_rate, bb_rate, contact)
                #self.babip = teams[self.team].babip - self.league_babip
                #self.babip = self.team.babip - self.league_babip
                self.babip = babip - self.league_babip
                self.stats = Stats_Pitcher()
                self.career_stats = Stats_Pitcher()
                self.pitch_count = pitch_count</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="baseballator.gameplay.Player" href="#baseballator.gameplay.Player">Player</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="baseballator.gameplay.Pitcher.league_babip"><code class="name">var <span class="ident">league_babip</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Player"><code class="flex name class">
<span>class <span class="ident">Player</span></span>
<span>(</span><span>player_id, name, position, team, k_rate, bb_rate, contact)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Player:

        def __init__(self, player_id, name, position, team, k_rate, bb_rate, contact):
                self.player_id = player_id
                self.name = name
                self.position = position
                self.team = team
                self.k_rate = k_rate
                self.bb_rate = bb_rate
                self.k_odds = rate_to_odd(k_rate)
                self.bb_odds = rate_to_odd(bb_rate)
                self.contact = contact

        def __str__ (self):
                return &#39;Player({}-{}: K%:{}, BB%:{}, Brl%:{})&#39;.format(self.name, self.position,
                 round(self.k_rate * 100, 1), round(self.bb_rate * 100, 1), round(self.contact[0] * 100, 1))
        def __repr__(self):
                return &#39;Player({})&#39;.format(self.name)</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="baseballator.gameplay.Hitter" href="#baseballator.gameplay.Hitter">Hitter</a></li>
<li><a title="baseballator.gameplay.Pitcher" href="#baseballator.gameplay.Pitcher">Pitcher</a></li>
</ul>
</dd>
<dt id="baseballator.gameplay.Score"><code class="flex name class">
<span>class <span class="ident">Score</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Score:
        def __init__(self):
                self.runs = 0
                self.hits = 0</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Series"><code class="flex name class">
<span>class <span class="ident">Series</span></span>
<span>(</span><span>title, higher_seed, lower_seed, games=7, alternate=True, higher_pitcher=1, lower_pitcher=1)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Series():

        def __init__(self, title, higher_seed, lower_seed, games=7, alternate=True,
         higher_pitcher=1, lower_pitcher=1):
                self.title = title
                self.higher_seed = [higher_seed, 0, higher_pitcher]
                self.lower_seed = [lower_seed, 0, lower_pitcher]
                self.games = games
                self.alternate = alternate
                self.pitchers_in_rotation = min((len(higher_seed.rotation), len(lower_seed.rotation)))

                self.outcome = None #[0 - draw, 1 - win for higher, -1 win for lower]

                if games % 2 == 0:
                        self.min_games = int(games // 2 + 1)
                else:
                        self.min_games = int(games // 2 + 1)

                self.game_list = []
                self.scores = []
                self.lines = []


        def play(self, printout=False):

                game_number = 0
                games_at_home = 0
                home_team = self.higher_seed
                away_team = self.lower_seed

                while ((self.higher_seed[1] &lt; self.min_games) and (self.lower_seed[1] &lt; self.min_games)) and (game_number &lt; self.games):

                        game_number += 1

                        game = Game(home_team[0], away_team[0], home_team[2], away_team[2])
                        game.play()
                        self.game_list.append(game)
                        self.scores.append(str(game.away_score.runs) + &#39;:&#39; + str(game.home_score.runs))
                        self.lines.append([self.title, &#39;Game &#39; + str(game_number)] + game.game_line())

                        if printout:
                                print(&#39;-----Game &#39; + str(game_number) + &#39;-----\n&#39;)
                                print(game.box_pbp())


                        if game.result == 1:
                                home_team[1] += 1
                        else:
                                away_team[1] += 1

                        
                        if home_team[2] == self.pitchers_in_rotation:
                                home_team[2] = 0
                        if home_team[2] &lt; self.pitchers_in_rotation:
                                home_team[2] += 1

                        if away_team[2] == self.pitchers_in_rotation:
                                away_team[2] = 0
                        if away_team[2] &lt; self.pitchers_in_rotation:
                                away_team[2] += 1

                        if self.alternate:
                                if self.games - game_number &lt;= 3:
                                        home_team, away_team = away_team, home_team
                                else:
                                        games_at_home += 1
                                        if games_at_home == 2:
                                                home_team, away_team = away_team, home_team
                                                games_at_home = 0

                desc_blueprint = &#39;{} won a series against {} in {} games.&#39;
                self.games_played = len(self.game_list)
                if self.higher_seed[1] &gt; self.lower_seed[1]:
                        self.outcome = 1
                        self.winner = self.higher_seed[0]
                        self.description = desc_blueprint.format(self.higher_seed[0].name, self.lower_seed[0].name, self.games_played)
                elif self.higher_seed[1] &lt; self.lower_seed[1]:
                        self.outcome = -1
                        self.winner = self.lower_seed[0]
                        self.description = desc_blueprint.format(self.lower_seed[0].name, self.higher_seed[0].name, self.games_played)
                else:
                        self.outcome = 0
                        self.description = &#39;Series between {} and {} ended in draw.&#39;.format(self.higher_seed[0].name, self.lower_seed[0].name)

        def games_dataset(self):
                return pd.DataFrame(data=self.lines, columns=[&#39;series&#39;, &#39;game&#39;, &#39;away_team&#39;, &#39;home_team&#39;, &#39;away_runs&#39;, &#39;home_runs&#39;, &#39;winner&#39;, &#39;WP&#39;, &#39;no_hitter&#39;])

        def get_game(self, number):
                return self.game_list[number - 1]

        def MVP(self):
                all_players = list(self.higher_seed[0].lineup.values()) + list(self.lower_seed[0].lineup.values())
                players_sorted = sorted(all_players, key=lambda x: x.career_stats.OPS, reverse=True)
                return (players_sorted[0].name, players_sorted[0].career_stats.slash_line)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="baseballator.gameplay.Series.MVP"><code class="name flex">
<span>def <span class="ident">MVP</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def MVP(self):
        all_players = list(self.higher_seed[0].lineup.values()) + list(self.lower_seed[0].lineup.values())
        players_sorted = sorted(all_players, key=lambda x: x.career_stats.OPS, reverse=True)
        return (players_sorted[0].name, players_sorted[0].career_stats.slash_line)</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Series.games_dataset"><code class="name flex">
<span>def <span class="ident">games_dataset</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def games_dataset(self):
        return pd.DataFrame(data=self.lines, columns=[&#39;series&#39;, &#39;game&#39;, &#39;away_team&#39;, &#39;home_team&#39;, &#39;away_runs&#39;, &#39;home_runs&#39;, &#39;winner&#39;, &#39;WP&#39;, &#39;no_hitter&#39;])</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Series.get_game"><code class="name flex">
<span>def <span class="ident">get_game</span></span>(<span>self, number)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_game(self, number):
        return self.game_list[number - 1]</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Series.play"><code class="name flex">
<span>def <span class="ident">play</span></span>(<span>self, printout=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def play(self, printout=False):

        game_number = 0
        games_at_home = 0
        home_team = self.higher_seed
        away_team = self.lower_seed

        while ((self.higher_seed[1] &lt; self.min_games) and (self.lower_seed[1] &lt; self.min_games)) and (game_number &lt; self.games):

                game_number += 1

                game = Game(home_team[0], away_team[0], home_team[2], away_team[2])
                game.play()
                self.game_list.append(game)
                self.scores.append(str(game.away_score.runs) + &#39;:&#39; + str(game.home_score.runs))
                self.lines.append([self.title, &#39;Game &#39; + str(game_number)] + game.game_line())

                if printout:
                        print(&#39;-----Game &#39; + str(game_number) + &#39;-----\n&#39;)
                        print(game.box_pbp())


                if game.result == 1:
                        home_team[1] += 1
                else:
                        away_team[1] += 1

                
                if home_team[2] == self.pitchers_in_rotation:
                        home_team[2] = 0
                if home_team[2] &lt; self.pitchers_in_rotation:
                        home_team[2] += 1

                if away_team[2] == self.pitchers_in_rotation:
                        away_team[2] = 0
                if away_team[2] &lt; self.pitchers_in_rotation:
                        away_team[2] += 1

                if self.alternate:
                        if self.games - game_number &lt;= 3:
                                home_team, away_team = away_team, home_team
                        else:
                                games_at_home += 1
                                if games_at_home == 2:
                                        home_team, away_team = away_team, home_team
                                        games_at_home = 0

        desc_blueprint = &#39;{} won a series against {} in {} games.&#39;
        self.games_played = len(self.game_list)
        if self.higher_seed[1] &gt; self.lower_seed[1]:
                self.outcome = 1
                self.winner = self.higher_seed[0]
                self.description = desc_blueprint.format(self.higher_seed[0].name, self.lower_seed[0].name, self.games_played)
        elif self.higher_seed[1] &lt; self.lower_seed[1]:
                self.outcome = -1
                self.winner = self.lower_seed[0]
                self.description = desc_blueprint.format(self.lower_seed[0].name, self.higher_seed[0].name, self.games_played)
        else:
                self.outcome = 0
                self.description = &#39;Series between {} and {} ended in draw.&#39;.format(self.higher_seed[0].name, self.lower_seed[0].name)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Stats"><code class="flex name class">
<span>class <span class="ident">Stats</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Stats:
        def __init__(self):
                pass

        def update(self, game_stats):
                current_stats = self.__dict__
                new_stats = game_stats.__dict__

                for idx in current_stats:
                        current_stats[idx] += new_stats[idx]

        def show(self):
                return self.__dict__</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="baseballator.gameplay.Stats_Hitter" href="#baseballator.gameplay.Stats_Hitter">Stats_Hitter</a></li>
<li><a title="baseballator.gameplay.Stats_Pitcher" href="#baseballator.gameplay.Stats_Pitcher">Stats_Pitcher</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="baseballator.gameplay.Stats.show"><code class="name flex">
<span>def <span class="ident">show</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def show(self):
        return self.__dict__</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, game_stats)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, game_stats):
        current_stats = self.__dict__
        new_stats = game_stats.__dict__

        for idx in current_stats:
                current_stats[idx] += new_stats[idx]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter"><code class="flex name class">
<span>class <span class="ident">Stats_Hitter</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Stats_Hitter(Stats):
        def __init__(self):
                self.PA = 0
                self.K = 0
                self.BB = 0
                self.H1 = 0 
                self.H2 = 0 
                self.H3 = 0 
                self.HR = 0
                self.RBI = 0
                self.SF = 0
                self.R = 0 

        @property
        def AB(self):
                return self.PA - self.BB - self.SF
        @property
        def TB(self):
                return self.H1 + 2 * self.H2 + 3 * self.H3 + 4 * self.HR
        @property
        def H(self):
                return (self.H1 + self.H2 + self.H3 + self.HR)
        @property
        def AVG(self):
                return (self.H)/(self.PA - self.BB)
        @property
        def OBP(self):
                return (self.H + self.BB)/self.PA
        @property
        def SLG(self):
                return (self.TB)/(self.PA - self.BB)
        @property
        def OPS(self):
                return self.OBP + self.SLG
        @property
        def slash_line(self):
                return &#39;{:.3f}/{:.3f}/{:.3f}&#39;.format(self.AVG, self.OBP, self.SLG)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="baseballator.gameplay.Stats" href="#baseballator.gameplay.Stats">Stats</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="baseballator.gameplay.Stats_Hitter.AB"><code class="name">var <span class="ident">AB</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def AB(self):
        return self.PA - self.BB - self.SF</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.AVG"><code class="name">var <span class="ident">AVG</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def AVG(self):
        return (self.H)/(self.PA - self.BB)</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.H"><code class="name">var <span class="ident">H</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def H(self):
        return (self.H1 + self.H2 + self.H3 + self.HR)</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.OBP"><code class="name">var <span class="ident">OBP</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def OBP(self):
        return (self.H + self.BB)/self.PA</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.OPS"><code class="name">var <span class="ident">OPS</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def OPS(self):
        return self.OBP + self.SLG</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.SLG"><code class="name">var <span class="ident">SLG</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def SLG(self):
        return (self.TB)/(self.PA - self.BB)</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.TB"><code class="name">var <span class="ident">TB</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def TB(self):
        return self.H1 + 2 * self.H2 + 3 * self.H3 + 4 * self.HR</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Hitter.slash_line"><code class="name">var <span class="ident">slash_line</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def slash_line(self):
        return &#39;{:.3f}/{:.3f}/{:.3f}&#39;.format(self.AVG, self.OBP, self.SLG)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Stats_Pitcher"><code class="flex name class">
<span>class <span class="ident">Stats_Pitcher</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Stats_Pitcher(Stats):
        def __init__(self):
                self.TP = 0
                self.IP = 0
                self.ER = 0
                self.WH = 0
                self.BB = 0
                self.K = 0

        @property
        def ERA(self):
                if self.IP &gt; 0:
                        return self.ER/self.IP * 9
                return 0

        @property
        def WHIP(self):
                if self.IP &gt; 0:
                        return self.WH/self.IP
                return 0

        @property
        def IP_display(self):
                        whole = int(self.IP // 1)
                        decimal = self.IP - whole
                        if decimal == 0:
                                decimal_disp = &#39;0&#39;
                        elif decimal &lt; 0.35:
                                decimal_disp = &#39;1&#39;
                        elif decimal &lt; 0.7:
                                decimal_disp = &#39;2&#39;
                        else:
                                decimal_disp = &#39;0&#39;
                                whole += 1

                        return (str(whole)+ &#39;.&#39; + decimal_disp)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="baseballator.gameplay.Stats" href="#baseballator.gameplay.Stats">Stats</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="baseballator.gameplay.Stats_Pitcher.ERA"><code class="name">var <span class="ident">ERA</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def ERA(self):
        if self.IP &gt; 0:
                return self.ER/self.IP * 9
        return 0</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Pitcher.IP_display"><code class="name">var <span class="ident">IP_display</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def IP_display(self):
                whole = int(self.IP // 1)
                decimal = self.IP - whole
                if decimal == 0:
                        decimal_disp = &#39;0&#39;
                elif decimal &lt; 0.35:
                        decimal_disp = &#39;1&#39;
                elif decimal &lt; 0.7:
                        decimal_disp = &#39;2&#39;
                else:
                        decimal_disp = &#39;0&#39;
                        whole += 1

                return (str(whole)+ &#39;.&#39; + decimal_disp)</code></pre>
</details>
</dd>
<dt id="baseballator.gameplay.Stats_Pitcher.WHIP"><code class="name">var <span class="ident">WHIP</span></code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def WHIP(self):
        if self.IP &gt; 0:
                return self.WH/self.IP
        return 0</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="baseballator.gameplay.Team"><code class="flex name class">
<span>class <span class="ident">Team</span></span>
<span>(</span><span>team_id, name, lineup, rotation, bullpen_stats, bullpen_names, babip)</span>
</code></dt>
<dd>
<div class="desc"><p>A class used to represent a team</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>team_id</code></strong> :&ensp;<code>str</code></dt>
<dd>id of a team (three letters)</dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>full name of a team</dd>
<dt><strong><code>lineup</code></strong> :&ensp;<code>dict</code></dt>
<dd>team's batting order with Hitter objects</dd>
<dt><strong><code>rotation</code></strong> :&ensp;<code>list</code></dt>
<dd>team's pitching rotation with Pitcher objects</dd>
<dt><strong><code>bullpen</code></strong> :&ensp;<code>tuple</code></dt>
<dd>list with relief pitchers and a list of bullpen pitchers' stats</dd>
<dt><strong><code>babip</code></strong> :&ensp;<code>float</code></dt>
<dd>batting average on balls in play (represents the level of defence)</dd>
</dl>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>team_id</code></strong> :&ensp;<code>str</code></dt>
<dd>id of a team (three letters)</dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>full name of a team</dd>
<dt><strong><code>lineup</code></strong> :&ensp;<code>dict</code></dt>
<dd>team's batting order with Hitter objects</dd>
<dt><strong><code>rotation</code></strong> :&ensp;<code>list</code></dt>
<dd>team's pitching rotation with Pitcher objects</dd>
<dt><strong><code>bullpen_stats</code></strong> :&ensp;<code>list</code></dt>
<dd>list with stats of a bullpen</dd>
<dt><strong><code>bullpen_names</code></strong> :&ensp;<code>list</code></dt>
<dd>list with relief pitchers' names</dd>
<dt><strong><code>babip</code></strong> :&ensp;<code>float</code></dt>
<dd>batting average on balls in play (represents the level of defence)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Team():
        &#39;&#39;&#39;
        A class used to represent a team

        Attributes
        ----------
        team_id : str
                id of a team (three letters)

        name : str
                full name of a team

        lineup : dict
                team&#39;s batting order with Hitter objects

        rotation : list
                team&#39;s pitching rotation with Pitcher objects

        bullpen : tuple
                list with relief pitchers and a list of bullpen pitchers&#39; stats

        babip : float
                batting average on balls in play (represents the level of defence)
        &#39;&#39;&#39;

        def __init__(self, team_id, name, lineup, rotation, bullpen_stats, bullpen_names, babip):
                &#39;&#39;&#39;
                Parameters
                ----------
                team_id : str
                        id of a team (three letters)

                name : str
                        full name of a team

                lineup : dict
                        team&#39;s batting order with Hitter objects

                rotation : list
                        team&#39;s pitching rotation with Pitcher objects

                bullpen_stats : list
                        list with stats of a bullpen

                bullpen_names : list
                        list with relief pitchers&#39; names

                babip : float
                        batting average on balls in play (represents the level of defence)
                &#39;&#39;&#39;
                self.team_id = team_id
                self.name = name
                self.lineup = lineup
                self.rotation = rotation
                self.bullpen = (bullpen_names, bullpen_stats)
                self.babip = babip

        def __str__ (self):
                return &#39;Team({})&#39;.format(self.name)
        def __repr__(self):
                return &#39;Team({})&#39;.format(self.name)</code></pre>
</details>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="baseballator" href="index.html">baseballator</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="baseballator.gameplay.randint" href="#baseballator.gameplay.randint">randint</a></code></li>
<li><code><a title="baseballator.gameplay.random" href="#baseballator.gameplay.random">random</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="baseballator.gameplay.AB" href="#baseballator.gameplay.AB">AB</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.AB.bb_odds_league" href="#baseballator.gameplay.AB.bb_odds_league">bb_odds_league</a></code></li>
<li><code><a title="baseballator.gameplay.AB.contact_mix" href="#baseballator.gameplay.AB.contact_mix">contact_mix</a></code></li>
<li><code><a title="baseballator.gameplay.AB.contact_mix_transform" href="#baseballator.gameplay.AB.contact_mix_transform">contact_mix_transform</a></code></li>
<li><code><a title="baseballator.gameplay.AB.contact_params" href="#baseballator.gameplay.AB.contact_params">contact_params</a></code></li>
<li><code><a title="baseballator.gameplay.AB.contact_result" href="#baseballator.gameplay.AB.contact_result">contact_result</a></code></li>
<li><code><a title="baseballator.gameplay.AB.k_odds_league" href="#baseballator.gameplay.AB.k_odds_league">k_odds_league</a></code></li>
<li><code><a title="baseballator.gameplay.AB.play" href="#baseballator.gameplay.AB.play">play</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Game" href="#baseballator.gameplay.Game">Game</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.Game.box" href="#baseballator.gameplay.Game.box">box</a></code></li>
<li><code><a title="baseballator.gameplay.Game.box_pbp" href="#baseballator.gameplay.Game.box_pbp">box_pbp</a></code></li>
<li><code><a title="baseballator.gameplay.Game.game_line" href="#baseballator.gameplay.Game.game_line">game_line</a></code></li>
<li><code><a title="baseballator.gameplay.Game.play" href="#baseballator.gameplay.Game.play">play</a></code></li>
<li><code><a title="baseballator.gameplay.Game.score_line" href="#baseballator.gameplay.Game.score_line">score_line</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Hitter" href="#baseballator.gameplay.Hitter">Hitter</a></code></h4>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Inning" href="#baseballator.gameplay.Inning">Inning</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.Inning.play" href="#baseballator.gameplay.Inning.play">play</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Pitcher" href="#baseballator.gameplay.Pitcher">Pitcher</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.Pitcher.league_babip" href="#baseballator.gameplay.Pitcher.league_babip">league_babip</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Player" href="#baseballator.gameplay.Player">Player</a></code></h4>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Score" href="#baseballator.gameplay.Score">Score</a></code></h4>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Series" href="#baseballator.gameplay.Series">Series</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.Series.MVP" href="#baseballator.gameplay.Series.MVP">MVP</a></code></li>
<li><code><a title="baseballator.gameplay.Series.games_dataset" href="#baseballator.gameplay.Series.games_dataset">games_dataset</a></code></li>
<li><code><a title="baseballator.gameplay.Series.get_game" href="#baseballator.gameplay.Series.get_game">get_game</a></code></li>
<li><code><a title="baseballator.gameplay.Series.play" href="#baseballator.gameplay.Series.play">play</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Stats" href="#baseballator.gameplay.Stats">Stats</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.Stats.show" href="#baseballator.gameplay.Stats.show">show</a></code></li>
<li><code><a title="baseballator.gameplay.Stats.update" href="#baseballator.gameplay.Stats.update">update</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Stats_Hitter" href="#baseballator.gameplay.Stats_Hitter">Stats_Hitter</a></code></h4>
<ul class="two-column">
<li><code><a title="baseballator.gameplay.Stats_Hitter.AB" href="#baseballator.gameplay.Stats_Hitter.AB">AB</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.AVG" href="#baseballator.gameplay.Stats_Hitter.AVG">AVG</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.H" href="#baseballator.gameplay.Stats_Hitter.H">H</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.OBP" href="#baseballator.gameplay.Stats_Hitter.OBP">OBP</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.OPS" href="#baseballator.gameplay.Stats_Hitter.OPS">OPS</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.SLG" href="#baseballator.gameplay.Stats_Hitter.SLG">SLG</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.TB" href="#baseballator.gameplay.Stats_Hitter.TB">TB</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Hitter.slash_line" href="#baseballator.gameplay.Stats_Hitter.slash_line">slash_line</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Stats_Pitcher" href="#baseballator.gameplay.Stats_Pitcher">Stats_Pitcher</a></code></h4>
<ul class="">
<li><code><a title="baseballator.gameplay.Stats_Pitcher.ERA" href="#baseballator.gameplay.Stats_Pitcher.ERA">ERA</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Pitcher.IP_display" href="#baseballator.gameplay.Stats_Pitcher.IP_display">IP_display</a></code></li>
<li><code><a title="baseballator.gameplay.Stats_Pitcher.WHIP" href="#baseballator.gameplay.Stats_Pitcher.WHIP">WHIP</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="baseballator.gameplay.Team" href="#baseballator.gameplay.Team">Team</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>